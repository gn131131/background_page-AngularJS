(window.webpackJsonp=window.webpackJsonp||[]).push([[8],[function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"D",function(){return root}),__webpack_require__.d(__webpack_exports__,"q",function(){return fromJson}),__webpack_require__.d(__webpack_exports__,"H",function(){return toJson}),__webpack_require__.d(__webpack_exports__,"p",function(){return forEach}),__webpack_require__.d(__webpack_exports__,"l",function(){return extend}),__webpack_require__.d(__webpack_exports__,"k",function(){return equals}),__webpack_require__.d(__webpack_exports__,"r",function(){return identity}),__webpack_require__.d(__webpack_exports__,"x",function(){return noop}),__webpack_require__.d(__webpack_exports__,"h",function(){return createProxyFunctions}),__webpack_require__.d(__webpack_exports__,"t",function(){return inherit}),__webpack_require__.d(__webpack_exports__,"s",function(){return inArray}),__webpack_require__.d(__webpack_exports__,"C",function(){return removeFrom}),__webpack_require__.d(__webpack_exports__,"B",function(){return pushTo}),__webpack_require__.d(__webpack_exports__,"j",function(){return deregAll}),__webpack_require__.d(__webpack_exports__,"i",function(){return defaults}),__webpack_require__.d(__webpack_exports__,"w",function(){return mergeR}),__webpack_require__.d(__webpack_exports__,"b",function(){return ancestors}),__webpack_require__.d(__webpack_exports__,"z",function(){return pick}),__webpack_require__.d(__webpack_exports__,"y",function(){return omit}),__webpack_require__.d(__webpack_exports__,"m",function(){return filter}),__webpack_require__.d(__webpack_exports__,"n",function(){return find}),__webpack_require__.d(__webpack_exports__,"v",function(){return mapObj}),__webpack_require__.d(__webpack_exports__,"u",function(){return map}),__webpack_require__.d(__webpack_exports__,"L",function(){return values}),__webpack_require__.d(__webpack_exports__,"a",function(){return allTrueR}),__webpack_require__.d(__webpack_exports__,"c",function(){return anyTrueR}),__webpack_require__.d(__webpack_exports__,"K",function(){return unnestR}),__webpack_require__.d(__webpack_exports__,"o",function(){return flattenR}),__webpack_require__.d(__webpack_exports__,"A",function(){return pushR}),__webpack_require__.d(__webpack_exports__,"I",function(){return uniqR}),__webpack_require__.d(__webpack_exports__,"J",function(){return unnest}),__webpack_require__.d(__webpack_exports__,"f",function(){return assertPredicate}),__webpack_require__.d(__webpack_exports__,"e",function(){return arrayTuples}),__webpack_require__.d(__webpack_exports__,"d",function(){return applyPairs}),__webpack_require__.d(__webpack_exports__,"G",function(){return tail}),__webpack_require__.d(__webpack_exports__,"g",function(){return copy}),__webpack_require__.d(__webpack_exports__,"E",function(){return silenceUncaughtInPromise}),__webpack_require__.d(__webpack_exports__,"F",function(){return silentRejection});var _predicates__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_hof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_coreservices__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,angular=root.angular||{},fromJson=angular.fromJson||JSON.parse.bind(JSON),toJson=angular.toJson||JSON.stringify.bind(JSON),forEach=angular.forEach||function(obj,cb,_this){if(Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.a)(obj))return obj.forEach(cb,_this);Object.keys(obj).forEach(function(key){return cb(obj[key],key)})},extend=Object.assign||function(toObj){for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(obj)for(var keys=Object.keys(obj),j=0;j<keys.length;j++)toObj[keys[j]]=obj[keys[j]]}return toObj},equals=angular.equals||_equals;function identity(x){return x}function noop(){}function createProxyFunctions(source,target,bind,fnNames,latebind){void 0===latebind&&(latebind=!1);function bindFunction(fnName){return source()[fnName].bind(bind())}return(fnNames=fnNames||Object.keys(source())).reduce(function(acc,name){var fnName;return acc[name]=latebind?(fnName=name,function(){return target[fnName]=bindFunction(fnName),target[fnName].apply(null,arguments)}):bindFunction(name),acc},target)}var inherit=function(parent,extra){return extend(Object.create(parent),extra)},inArray=Object(_hof__WEBPACK_IMPORTED_MODULE_1__.d)(function(array,obj){return-1!==array.indexOf(obj)});var removeFrom=Object(_hof__WEBPACK_IMPORTED_MODULE_1__.d)(function(array,obj){var idx=array.indexOf(obj);0<=idx&&array.splice(idx,1);return array});var pushTo=Object(_hof__WEBPACK_IMPORTED_MODULE_1__.d)(function(arr,val){return arr.push(val),val});var deregAll=function(functions){return functions.slice().forEach(function(fn){"function"==typeof fn&&fn(),removeFrom(functions,fn)})};function defaults(opts){for(var defaultsList=[],_i=1;_i<arguments.length;_i++)defaultsList[_i-1]=arguments[_i];var defaultVals=extend.apply(void 0,__spreadArrays([{}],defaultsList.reverse()));return extend(defaultVals,pick(opts||{},Object.keys(defaultVals)))}var mergeR=function(memo,item){return extend(memo,item)};function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function pick(obj,propNames){var objCopy={};for(var _prop in obj)-1!==propNames.indexOf(_prop)&&(objCopy[_prop]=obj[_prop]);return objCopy}function omit(obj,propNames){return Object.keys(obj).filter(Object(_hof__WEBPACK_IMPORTED_MODULE_1__.f)(inArray(propNames))).reduce(function(acc,key){return acc[key]=obj[key],acc},{})}function filter(collection,callback){var arr=Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.a)(collection),result=arr?[]:{},accept=arr?function(x){return result.push(x)}:function(x,key){return result[key]=x};return forEach(collection,function(item,i){callback(item,i)&&accept(item,i)}),result}function find(collection,callback){var result;return forEach(collection,function(item,i){result||callback(item,i)&&(result=item)}),result}var mapObj=map;function map(collection,callback,target){return target=target||(Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.a)(collection)?[]:{}),forEach(collection,function(item,i){return target[i]=callback(item,i)}),target}var values=function(obj){return Object.keys(obj).map(function(key){return obj[key]})},allTrueR=function(memo,elem){return memo&&elem},anyTrueR=function(memo,elem){return memo||elem},unnestR=function(memo,elem){return memo.concat(elem)},flattenR=function(memo,elem){return Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.a)(elem)?memo.concat(elem.reduce(flattenR,[])):pushR(memo,elem)};function pushR(arr,obj){return arr.push(obj),arr}var uniqR=function(acc,token){return inArray(acc,token)?acc:pushR(acc,token)},unnest=function(arr){return arr.reduce(unnestR,[])},assertPredicate=assertFn;function assertFn(predicateOrMap,errMsg){return void 0===errMsg&&(errMsg="assert failure"),function(obj){var result=predicateOrMap(obj);if(!result)throw new Error(Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.d)(errMsg)?errMsg(obj):errMsg);return result}}function arrayTuples(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(0===args.length)return[];for(var maxArrayLen=args.reduce(function(min,arr){return Math.min(arr.length,min)},9007199254740991),result=[],_loop_1=function(i){switch(args.length){case 1:result.push([args[0][i]]);break;case 2:result.push([args[0][i],args[1][i]]);break;case 3:result.push([args[0][i],args[1][i],args[2][i]]);break;case 4:result.push([args[0][i],args[1][i],args[2][i],args[3][i]]);break;default:result.push(args.map(function(array){return array[i]}))}},i=0;i<maxArrayLen;i++)_loop_1(i);return result}function applyPairs(memo,keyValTuple){var key,value;if(Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.a)(keyValTuple)&&(key=keyValTuple[0],value=keyValTuple[1]),!Object(_predicates__WEBPACK_IMPORTED_MODULE_0__.l)(key))throw new Error("invalid parameters to applyPairs");return memo[key]=value,memo}function tail(arr){return arr.length&&arr[arr.length-1]||void 0}function copy(src,dest){return dest&&Object.keys(dest).forEach(function(key){return delete dest[key]}),extend(dest=dest||{},src)}function _equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!=o1&&o2!=o2)return!0;var t1=typeof o1;if(t1!=typeof o2||"object"!=t1)return!1;var a1,a2,tup=[o1,o2];if(Object(_hof__WEBPACK_IMPORTED_MODULE_1__.a)(_predicates__WEBPACK_IMPORTED_MODULE_0__.a)(tup))return a2=o2,(a1=o1).length===a2.length&&arrayTuples(a1,a2).reduce(function(b,t){return b&&_equals(t[0],t[1])},!0);if(Object(_hof__WEBPACK_IMPORTED_MODULE_1__.a)(_predicates__WEBPACK_IMPORTED_MODULE_0__.b)(tup))return o1.getTime()===o2.getTime();if(Object(_hof__WEBPACK_IMPORTED_MODULE_1__.a)(_predicates__WEBPACK_IMPORTED_MODULE_0__.k)(tup))return o1.toString()===o2.toString();if(Object(_hof__WEBPACK_IMPORTED_MODULE_1__.a)(_predicates__WEBPACK_IMPORTED_MODULE_0__.d)(tup))return!0;if([_predicates__WEBPACK_IMPORTED_MODULE_0__.d,_predicates__WEBPACK_IMPORTED_MODULE_0__.a,_predicates__WEBPACK_IMPORTED_MODULE_0__.b,_predicates__WEBPACK_IMPORTED_MODULE_0__.k].map(_hof__WEBPACK_IMPORTED_MODULE_1__.c).reduce(function(b,fn){return b||!!fn(tup)},!1))return!1;var keys={};for(var key in o1){if(!_equals(o1[key],o2[key]))return!1;keys[key]=!0}for(var key in o2)if(!keys[key])return!1;return!0}var silenceUncaughtInPromise=function(promise){return promise.catch(function(e){return 0})&&promise},silentRejection=function(error){return silenceUncaughtInPromise(_coreservices__WEBPACK_IMPORTED_MODULE_2__.b.$q.reject(error))}}).call(this,__webpack_require__(23))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"m",function(){return isUndefined}),__webpack_require__.d(__webpack_exports__,"c",function(){return isDefined}),__webpack_require__.d(__webpack_exports__,"f",function(){return isNull}),__webpack_require__.d(__webpack_exports__,"g",function(){return isNullOrUndefined}),__webpack_require__.d(__webpack_exports__,"d",function(){return isFunction}),__webpack_require__.d(__webpack_exports__,"h",function(){return isNumber}),__webpack_require__.d(__webpack_exports__,"l",function(){return isString}),__webpack_require__.d(__webpack_exports__,"i",function(){return isObject}),__webpack_require__.d(__webpack_exports__,"a",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"b",function(){return isDate}),__webpack_require__.d(__webpack_exports__,"k",function(){return isRegExp}),__webpack_require__.d(__webpack_exports__,"e",function(){return isInjectable}),__webpack_require__.d(__webpack_exports__,"j",function(){return isPromise});function tis(t){return function(x){return typeof x===t}}var _hof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),toStr=Object.prototype.toString,isUndefined=tis("undefined"),isDefined=Object(_hof__WEBPACK_IMPORTED_MODULE_0__.f)(isUndefined),isNull=function(o){return null===o},isNullOrUndefined=Object(_hof__WEBPACK_IMPORTED_MODULE_0__.g)(isNull,isUndefined),isFunction=tis("function"),isNumber=tis("number"),isString=tis("string"),isObject=function(x){return null!==x&&"object"==typeof x},isArray=Array.isArray,isDate=function(x){return"[object Date]"===toStr.call(x)},isRegExp=function(x){return"[object RegExp]"===toStr.call(x)};function isInjectable(val){if(isArray(val)&&val.length){var head=val.slice(0,-1),tail=val.slice(-1);return!(head.filter(Object(_hof__WEBPACK_IMPORTED_MODULE_0__.f)(isString)).length||tail.filter(Object(_hof__WEBPACK_IMPORTED_MODULE_0__.f)(isFunction)).length)}return isFunction(val)}var isPromise=Object(_hof__WEBPACK_IMPORTED_MODULE_0__.b)(isObject,Object(_hof__WEBPACK_IMPORTED_MODULE_0__.j)(Object(_hof__WEBPACK_IMPORTED_MODULE_0__.k)("then"),isFunction))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return curry}),__webpack_require__.d(__webpack_exports__,"j",function(){return pipe}),__webpack_require__.d(__webpack_exports__,"k",function(){return prop}),__webpack_require__.d(__webpack_exports__,"l",function(){return propEq}),__webpack_require__.d(__webpack_exports__,"h",function(){return parse}),__webpack_require__.d(__webpack_exports__,"f",function(){return not}),__webpack_require__.d(__webpack_exports__,"b",function(){return and}),__webpack_require__.d(__webpack_exports__,"g",function(){return or}),__webpack_require__.d(__webpack_exports__,"a",function(){return all}),__webpack_require__.d(__webpack_exports__,"c",function(){return any}),__webpack_require__.d(__webpack_exports__,"e",function(){return is}),__webpack_require__.d(__webpack_exports__,"m",function(){return val}),__webpack_require__.d(__webpack_exports__,"i",function(){return pattern});var __spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function curry(fn){return function curried(){if(arguments.length>=fn.length)return fn.apply(this,arguments);var args=Array.prototype.slice.call(arguments);return curried.bind.apply(curried,__spreadArrays([this],args))}}function pipe(){for(var funcs=[],_i=0;_i<arguments.length;_i++)funcs[_i]=arguments[_i];return function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}}.apply(null,[].slice.call(arguments).reverse())}var prop=function(name){return function(obj){return obj&&obj[name]}},propEq=curry(function(name,_val,obj){return obj&&obj[name]===_val}),parse=function(name){return pipe.apply(null,name.split(".").map(prop))},not=function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return!fn.apply(null,args)}};function and(fn1,fn2){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return fn1.apply(null,args)&&fn2.apply(null,args)}}function or(fn1,fn2){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return fn1.apply(null,args)||fn2.apply(null,args)}}var all=function(fn1){return function(arr){return arr.reduce(function(b,x){return b&&!!fn1(x)},!0)}},any=function(fn1){return function(arr){return arr.reduce(function(b,x){return b||!!fn1(x)},!1)}},is=function(ctor){return function(obj){return null!=obj&&obj.constructor===ctor||obj instanceof ctor}},val=function(v){return function(){return v}};function pattern(struct){return function(x){for(var i=0;i<struct.length;i++)if(struct[i][0](x))return struct[i][1](x)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return makeStub}),__webpack_require__.d(__webpack_exports__,"b",function(){return services});var makeStub=function(service,methods){return methods.reduce(function(acc,key){return acc[key]=(fnname=service+"."+key+"()",function(){throw new Error("No implementation for "+fnname+". The framework specific code did not implement this method.")}),acc;var fnname},{})},services={$q:void 0,$injector:void 0}},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){
/**
 * oclazyload - Load modules on demand (lazy load) with angularJS
 * @version v1.0.10
 * @link https://github.com/ocombe/ocLazyLoad
 * @license MIT
 * @author Olivier Combe <olivier.combe@gmail.com>
 */
!function(angular,window){"use strict";var regModules=["ng","oc.lazyLoad"],regInvokes={},regConfigs=[],modulesToLoad=[],realModules=[],recordDeclarations=[],broadcast=angular.noop,runBlocks={},justLoaded=[];angular.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function($controllerProvider,$provide,$compileProvider,$filterProvider,$injector,$animateProvider){var modules={},providers={$controllerProvider:$controllerProvider,$compileProvider:$compileProvider,$filterProvider:$filterProvider,$provide:$provide,$injector:$injector,$animateProvider:$animateProvider},debug=!1,events=!1,moduleCache=[],modulePromises={};moduleCache.push=function(value){-1===this.indexOf(value)&&Array.prototype.push.apply(this,arguments)},this.config=function(config){angular.isDefined(config.modules)&&(angular.isArray(config.modules)?angular.forEach(config.modules,function(moduleConfig){modules[moduleConfig.name]=moduleConfig}):modules[config.modules.name]=config.modules),angular.isDefined(config.debug)&&(debug=config.debug),angular.isDefined(config.events)&&(events=config.events)},this._init=function(element){if(0===modulesToLoad.length){var elements=[element],names=["ng:app","ng-app","x-ng-app","data-ng-app"],NG_APP_CLASS_REGEXP=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,append=function(elm){return elm&&elements.push(elm)};angular.forEach(names,function(name){names[name]=!0,append(document.getElementById(name)),name=name.replace(":","\\:"),void 0!==element[0]&&element[0].querySelectorAll&&(angular.forEach(element[0].querySelectorAll("."+name),append),angular.forEach(element[0].querySelectorAll("."+name+"\\:"),append),angular.forEach(element[0].querySelectorAll("["+name+"]"),append))}),angular.forEach(elements,function(elm){if(0===modulesToLoad.length){var className=" "+element.className+" ",match=NG_APP_CLASS_REGEXP.exec(className);match?modulesToLoad.push((match[2]||"").replace(/\s+/g,",")):angular.forEach(elm.attributes,function(attr){0===modulesToLoad.length&&names[attr.name]&&modulesToLoad.push(attr.value)})}})}0!==modulesToLoad.length||(window.jasmine||window.mocha)&&angular.isDefined(angular.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");angular.forEach(modulesToLoad,function(moduleName){!function addReg(moduleName){if(-1===regModules.indexOf(moduleName)){regModules.push(moduleName);var mainModule=angular.module(moduleName);_invokeQueue(null,mainModule._invokeQueue,moduleName),_invokeQueue(null,mainModule._configBlocks,moduleName),angular.forEach(mainModule.requires,addReg)}}(moduleName)}),modulesToLoad=[],recordDeclarations.pop()};var stringify=function(obj){try{return JSON.stringify(obj)}catch(e){var cache=[];return JSON.stringify(obj,function(key,value){if(angular.isObject(value)&&null!==value){if(-1!==cache.indexOf(value))return;cache.push(value)}return value})}},hashCode=function(str){var i,len,hash=0;if(0==str.length)return hash;for(i=0,len=str.length;i<len;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash};function _register(providers,registerModules,params){if(registerModules){var k,moduleName,moduleFn,tempRunBlocks=[];for(k=registerModules.length-1;0<=k;k--)if(moduleName=registerModules[k],angular.isString(moduleName)||(moduleName=getModuleName(moduleName)),moduleName&&-1===justLoaded.indexOf(moduleName)&&(!modules[moduleName]||-1!==realModules.indexOf(moduleName))){var newModule=-1===regModules.indexOf(moduleName);if(moduleFn=ngModuleFct(moduleName),newModule&&(regModules.push(moduleName),_register(providers,moduleFn.requires,params)),0<moduleFn._runBlocks.length)for(runBlocks[moduleName]=[];0<moduleFn._runBlocks.length;)runBlocks[moduleName].push(moduleFn._runBlocks.shift());angular.isDefined(runBlocks[moduleName])&&(newModule||params.rerun)&&(tempRunBlocks=tempRunBlocks.concat(runBlocks[moduleName])),_invokeQueue(providers,moduleFn._invokeQueue,moduleName,params.reconfig),_invokeQueue(providers,moduleFn._configBlocks,moduleName,params.reconfig),broadcast(newModule?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",moduleName),registerModules.pop(),justLoaded.push(moduleName)}var instanceInjector=providers.getInstanceInjector();angular.forEach(tempRunBlocks,function(fn){instanceInjector.invoke(fn)})}}function _registerInvokeList(args,moduleName){var invokeList=args[2][0],type=args[1],newInvoke=!1;angular.isUndefined(regInvokes[moduleName])&&(regInvokes[moduleName]={}),angular.isUndefined(regInvokes[moduleName][type])&&(regInvokes[moduleName][type]={});var onInvoke=function(invokeName,invoke){regInvokes[moduleName][type].hasOwnProperty(invokeName)||(regInvokes[moduleName][type][invokeName]=[]),function(potentialNew,invokes){var newHash,isNew=!0;invokes.length&&(newHash=signature(potentialNew),angular.forEach(invokes,function(invoke){isNew=isNew&&signature(invoke)!==newHash}));return isNew}(invoke,regInvokes[moduleName][type][invokeName])&&(newInvoke=!0,regInvokes[moduleName][type][invokeName].push(invoke),broadcast("ocLazyLoad.componentLoaded",[moduleName,type,invokeName]))};function signature(data){return angular.isArray(data)?hashCode(data.toString()):angular.isObject(data)?hashCode(stringify(data)):angular.isDefined(data)&&null!==data?hashCode(data.toString()):data}if(angular.isString(invokeList))onInvoke(invokeList,args[2][1]);else{if(!angular.isObject(invokeList))return!1;angular.forEach(invokeList,function(invoke,key){angular.isString(invoke)?onInvoke(invoke,invokeList[1]):onInvoke(key,invoke)})}return newInvoke}function _invokeQueue(providers,queue,moduleName,reconfig){var i,len,args,provider;if(queue)for(i=0,len=queue.length;i<len;i++)if(args=queue[i],angular.isArray(args)){if(null!==providers){if(!providers.hasOwnProperty(args[0]))throw new Error("unsupported provider "+args[0]);provider=providers[args[0]]}var isNew=_registerInvokeList(args,moduleName);if("invoke"!==args[1])isNew&&angular.isDefined(provider)&&provider[args[1]].apply(provider,args[2]);else{var callInvoke=function(fct){var invoked=regConfigs.indexOf(moduleName+"-"+fct);-1!==invoked&&!reconfig||(-1===invoked&&regConfigs.push(moduleName+"-"+fct),angular.isDefined(provider)&&provider[args[1]].apply(provider,args[2]))};if(angular.isFunction(args[2][0]))callInvoke(args[2][0]);else if(angular.isArray(args[2][0]))for(var j=0,jlen=args[2][0].length;j<jlen;j++)angular.isFunction(args[2][0][j])&&callInvoke(args[2][0][j])}}}function getModuleName(module){var moduleName=null;return angular.isString(module)?moduleName=module:angular.isObject(module)&&module.hasOwnProperty("name")&&angular.isString(module.name)&&(moduleName=module.name),moduleName}function moduleExists(moduleName){if(!angular.isString(moduleName))return!1;try{return ngModuleFct(moduleName)}catch(e){if(/No module/.test(e)||-1<e.message.indexOf("$injector:nomod"))return!1}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function($log,$rootElement,$rootScope,$cacheFactory,$q){var instanceInjector,filesCache=$cacheFactory("ocLazyLoad");function reject(e){var deferred=$q.defer();return $log.error(e.message),deferred.reject(e),deferred.promise}return debug||(($log={}).error=angular.noop,$log.warn=angular.noop,$log.info=angular.noop),providers.getInstanceInjector=function(){return instanceInjector||(instanceInjector=$rootElement.data("$injector")||angular.injector())},{_broadcast:broadcast=function(eventName,params){events&&$rootScope.$broadcast(eventName,params),debug&&$log.info(eventName,params)},_$log:$log,_getFilesCache:function(){return filesCache},toggleWatch:function(watch){watch?recordDeclarations.push(!0):recordDeclarations.pop()},getModuleConfig:function(moduleName){if(!angular.isString(moduleName))throw new Error("You need to give the name of the module to get");return modules[moduleName]?angular.copy(modules[moduleName]):null},setModuleConfig:function(moduleConfig){if(!angular.isObject(moduleConfig))throw new Error("You need to give the module config object to set");return modules[moduleConfig.name]=moduleConfig},getModules:function(){return regModules},isLoaded:function(modulesNames){var moduleLoaded=function(module){var isLoaded=-1<regModules.indexOf(module);return isLoaded=isLoaded||!!moduleExists(module)};if(angular.isString(modulesNames)&&(modulesNames=[modulesNames]),angular.isArray(modulesNames)){var i,len;for(i=0,len=modulesNames.length;i<len;i++)if(!moduleLoaded(modulesNames[i]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:getModuleName,_getModule:function(moduleName){try{return ngModuleFct(moduleName)}catch(e){throw(/No module/.test(e)||-1<e.message.indexOf("$injector:nomod"))&&(e.message='The module "'+stringify(moduleName)+'" that you are trying to load does not exist. '+e.message),e}},moduleExists:moduleExists,_loadDependencies:function(moduleName,localParams){var loadedModule,requires,diff,promisesList=[],self=this;if(null===(moduleName=self._getModuleName(moduleName)))return $q.when();try{loadedModule=self._getModule(moduleName)}catch(e){return reject(e)}return requires=self.getRequires(loadedModule),angular.forEach(requires,function(requireEntry){if(angular.isString(requireEntry)){var config=self.getModuleConfig(requireEntry);if(null===config)return void moduleCache.push(requireEntry);(requireEntry=config).name=void 0}if(self.moduleExists(requireEntry.name))return 0!==(diff=requireEntry.files.filter(function(n){return self.getModuleConfig(requireEntry.name).files.indexOf(n)<0})).length&&self._$log.warn('Module "',moduleName,'" attempted to redefine configuration for dependency. "',requireEntry.name,'"\n Additional Files Loaded:',diff),angular.isDefined(self.filesLoader)?void promisesList.push(self.filesLoader(requireEntry,localParams).then(function(){return self._loadDependencies(requireEntry)})):reject(new Error("Error: New dependencies need to be loaded from external files ("+requireEntry.files+"), but no loader has been defined."));if(angular.isArray(requireEntry)){var files=[];angular.forEach(requireEntry,function(entry){var config=self.getModuleConfig(entry);null===config?files.push(entry):config.files&&(files=files.concat(config.files))}),0<files.length&&(requireEntry={files:files})}else angular.isObject(requireEntry)&&requireEntry.hasOwnProperty("name")&&requireEntry.name&&(self.setModuleConfig(requireEntry),moduleCache.push(requireEntry.name));if(angular.isDefined(requireEntry.files)&&0!==requireEntry.files.length){if(!angular.isDefined(self.filesLoader))return reject(new Error('Error: the module "'+requireEntry.name+'" is defined in external files ('+requireEntry.files+"), but no loader has been defined."));promisesList.push(self.filesLoader(requireEntry,localParams).then(function(){return self._loadDependencies(requireEntry)}))}}),$q.all(promisesList)},inject:function(moduleName,argument_1,argument_2){var localParams=arguments.length<=1||void 0===argument_1?{}:argument_1,real=!(arguments.length<=2||void 0===argument_2)&&argument_2,self=this,deferred=$q.defer();if(angular.isDefined(moduleName)&&null!==moduleName){if(angular.isArray(moduleName)){var promisesList=[];return angular.forEach(moduleName,function(module){promisesList.push(self.inject(module,localParams,real))}),$q.all(promisesList)}self._addToLoadList(self._getModuleName(moduleName),!0,real)}if(0<modulesToLoad.length){var res=modulesToLoad.slice();!function loadNext(moduleName){moduleCache.push(moduleName),modulePromises[moduleName]=deferred.promise,self._loadDependencies(moduleName,localParams).then(function(){try{justLoaded=[],_register(providers,moduleCache,localParams)}catch(e){return self._$log.error(e.message),void deferred.reject(e)}0<modulesToLoad.length?loadNext(modulesToLoad.shift()):deferred.resolve(res)},function(err){deferred.reject(err)})}(modulesToLoad.shift())}else{if(localParams&&localParams.name&&modulePromises[localParams.name])return modulePromises[localParams.name];deferred.resolve()}return deferred.promise},getRequires:function(module){var requires=[];return angular.forEach(module.requires,function(requireModule){-1===regModules.indexOf(requireModule)&&requires.push(requireModule)}),requires},_invokeQueue:_invokeQueue,_registerInvokeList:_registerInvokeList,_register:_register,_addToLoadList:_addToLoadList,_unregister:function(modules){angular.isDefined(modules)&&angular.isArray(modules)&&angular.forEach(modules,function(module){regInvokes[module]=void 0})}}}],this._init(angular.element(window.document))}]);var bootstrapFct=angular.bootstrap;angular.bootstrap=function(element,modules,config){return regModules=["ng","oc.lazyLoad"],regInvokes={},regConfigs=[],modulesToLoad=[],realModules=[],recordDeclarations=[],broadcast=angular.noop,runBlocks={},justLoaded=[],angular.forEach(modules.slice(),function(module){_addToLoadList(module,!0,!0)}),bootstrapFct(element,modules,config)};var _addToLoadList=function(name,force,real){(0<recordDeclarations.length||force)&&angular.isString(name)&&-1===modulesToLoad.indexOf(name)&&(modulesToLoad.push(name),real&&realModules.push(name))},ngModuleFct=angular.module;angular.module=function(name,requires,configFn){return _addToLoadList(name,!1,!0),ngModuleFct(name,requires,configFn)},module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(angular){"use strict";angular.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function($ocLazyLoad,$compile,$animate,$parse,$timeout){return{restrict:"A",terminal:!0,priority:1e3,compile:function(element){var content=element[0].innerHTML;return element.html(""),function($scope,$element,$attr){var model=$parse($attr.ocLazyLoad);$scope.$watch(function(){return model($scope)||$attr.ocLazyLoad},function(moduleName){angular.isDefined(moduleName)&&$ocLazyLoad.load(moduleName).then(function(){$animate.enter(content,$element),$compile($element.contents())($scope)})},!0)}}}}])}(angular),function(angular){"use strict";angular.module("oc.lazyLoad").config(["$provide",function($provide){$provide.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function($delegate,$q,$window,$interval){var useCssLoadPatch=!1,anchor=$window.document.getElementsByTagName("head")[0]||$window.document.getElementsByTagName("body")[0];return $delegate.buildElement=function(type,path,params){var el,loaded,deferred=$q.defer(),filesCache=$delegate._getFilesCache(),cacheBuster=function(url){var dc=(new Date).getTime();return 0<=url.indexOf("?")?"&"===url.substring(0,url.length-1)?url+"_dc="+dc:url+"&_dc="+dc:url+"?_dc="+dc};switch(angular.isUndefined(filesCache.get(path))&&filesCache.put(path,deferred.promise),type){case"css":(el=$window.document.createElement("link")).type="text/css",el.rel="stylesheet",el.href=!1===params.cache?cacheBuster(path):path;break;case"js":(el=$window.document.createElement("script")).src=!1===params.cache?cacheBuster(path):path;break;default:filesCache.remove(path),deferred.reject(new Error('Requested type "'+type+'" is not known. Could not inject "'+path+'"'))}el.onload=el.onreadystatechange=function(e){el.readyState&&!/^c|loade/.test(el.readyState)||loaded||(el.onload=el.onreadystatechange=null,loaded=1,$delegate._broadcast("ocLazyLoad.fileLoaded",path),deferred.resolve(el))},el.onerror=function(){filesCache.remove(path),deferred.reject(new Error("Unable to load "+path))},el.async=params.serie?0:1;var insertBeforeElem=anchor.lastChild;if(params.insertBefore){var element=angular.element(angular.isDefined(window.jQuery)?params.insertBefore:document.querySelector(params.insertBefore));element&&0<element.length&&(insertBeforeElem=element[0])}if(insertBeforeElem.parentNode.insertBefore(el,insertBeforeElem),"css"==type){var ua=$window.navigator.userAgent.toLowerCase();if(-1<ua.indexOf("phantomjs/1.9"))useCssLoadPatch=!0;else if(/iP(hone|od|ad)/.test($window.navigator.platform)){var v=$window.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),iOSVersion=parseFloat([parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3]||0,10)].join("."));useCssLoadPatch=iOSVersion<6}else if(-1<ua.indexOf("android")){var androidVersion=parseFloat(ua.slice(ua.indexOf("android")+8));useCssLoadPatch=androidVersion<4.4}else if(-1<ua.indexOf("safari")){var versionMatch=ua.match(/version\/([\.\d]+)/i);useCssLoadPatch=versionMatch&&versionMatch[1]&&parseFloat(versionMatch[1])<6}if(useCssLoadPatch)var tries=1e3,interval=$interval(function(){try{el.sheet.cssRules,$interval.cancel(interval),el.onload()}catch(e){--tries<=0&&el.onerror()}},20)}return deferred.promise},$delegate}])}])}(angular),function(angular){"use strict";angular.module("oc.lazyLoad").config(["$provide",function($provide){$provide.decorator("$ocLazyLoad",["$delegate","$q",function($delegate,$q){return $delegate.filesLoader=function(config,argument_1){var params=arguments.length<=1||void 0===argument_1?{}:argument_1,cssFiles=[],templatesFiles=[],jsFiles=[],promises=[],cachePromise=null,filesCache=$delegate._getFilesCache();$delegate.toggleWatch(!0),angular.extend(params,config);var pushFile=function(path){var m,file_type=null;if(angular.isObject(path)&&(file_type=path.type,path=path.path),cachePromise=filesCache.get(path),angular.isUndefined(cachePromise)||!1===params.cache){if(null!==(m=/^(css|less|html|htm|js)?(?=!)/.exec(path))&&(file_type=m[1],path=path.substr(m[1].length+1,path.length)),!file_type)if(null!==(m=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(path)))file_type=m[1];else{if($delegate.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!$delegate.jsLoader.hasOwnProperty("requirejs"))return void $delegate._$log.error("File type could not be determined. "+path);file_type="js"}"css"!==file_type&&"less"!==file_type||-1!==cssFiles.indexOf(path)?"html"!==file_type&&"htm"!==file_type||-1!==templatesFiles.indexOf(path)?"js"===file_type||-1===jsFiles.indexOf(path)?jsFiles.push(path):$delegate._$log.error("File type is not valid. "+path):templatesFiles.push(path):cssFiles.push(path)}else cachePromise&&promises.push(cachePromise)};if(params.serie?pushFile(params.files.shift()):angular.forEach(params.files,function(path){pushFile(path)}),0<cssFiles.length){var cssDeferred=$q.defer();$delegate.cssLoader(cssFiles,function(err){angular.isDefined(err)&&$delegate.cssLoader.hasOwnProperty("ocLazyLoadLoader")?($delegate._$log.error(err),cssDeferred.reject(err)):cssDeferred.resolve()},params),promises.push(cssDeferred.promise)}if(0<templatesFiles.length){var templatesDeferred=$q.defer();$delegate.templatesLoader(templatesFiles,function(err){angular.isDefined(err)&&$delegate.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?($delegate._$log.error(err),templatesDeferred.reject(err)):templatesDeferred.resolve()},params),promises.push(templatesDeferred.promise)}if(0<jsFiles.length){var jsDeferred=$q.defer();$delegate.jsLoader(jsFiles,function(err){angular.isDefined(err)&&($delegate.jsLoader.hasOwnProperty("ocLazyLoadLoader")||$delegate.jsLoader.hasOwnProperty("requirejs"))?($delegate._$log.error(err),jsDeferred.reject(err)):jsDeferred.resolve()},params),promises.push(jsDeferred.promise)}if(0!==promises.length)return params.serie&&0<params.files.length?$q.all(promises).then(function(){return $delegate.filesLoader(config,params)}):$q.all(promises).finally(function(res){return $delegate.toggleWatch(!1),res});var deferred=$q.defer(),err="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return $delegate._$log.error(err),deferred.reject(err),deferred.promise},$delegate.load=function(originalModule){var errText,originalParams=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],self=this,config=null,deferredList=[],deferred=$q.defer(),module=angular.copy(originalModule),params=angular.copy(originalParams);if(angular.isArray(module))return angular.forEach(module,function(m){deferredList.push(self.load(m,params))}),$q.all(deferredList).then(function(res){deferred.resolve(res)},function(err){deferred.reject(err)}),deferred.promise;if(angular.isString(module)?config=(config=self.getModuleConfig(module))||{files:[module]}:angular.isObject(module)&&(config=angular.isDefined(module.path)&&angular.isDefined(module.type)?{files:[module]}:self.setModuleConfig(module)),null===config)return errText='Module "'+(self._getModuleName(module)||"unknown")+'" is not configured, cannot load.',$delegate._$log.error(errText),deferred.reject(new Error(errText)),deferred.promise;angular.isDefined(config.template)&&(angular.isUndefined(config.files)&&(config.files=[]),angular.isString(config.template)?config.files.push(config.template):angular.isArray(config.template)&&config.files.concat(config.template));var localParams=angular.extend({},params,config);return angular.isUndefined(config.files)&&angular.isDefined(config.name)&&$delegate.moduleExists(config.name)?$delegate.inject(config.name,localParams,!0):($delegate.filesLoader(config,localParams).then(function(){$delegate.inject(null,localParams).then(function(res){deferred.resolve(res)},function(err){deferred.reject(err)})},function(err){deferred.reject(err)}),deferred.promise)},$delegate}])}])}(angular),function(angular){"use strict";angular.module("oc.lazyLoad").config(["$provide",function($provide){$provide.decorator("$ocLazyLoad",["$delegate","$q",function($delegate,$q){return $delegate.cssLoader=function(paths,callback,params){var promises=[];angular.forEach(paths,function(path){promises.push($delegate.buildElement("css",path,params))}),$q.all(promises).then(function(){callback()},function(err){callback(err)})},$delegate.cssLoader.ocLazyLoadLoader=!0,$delegate}])}])}(angular),function(angular){"use strict";angular.module("oc.lazyLoad").config(["$provide",function($provide){$provide.decorator("$ocLazyLoad",["$delegate","$q",function($delegate,$q){return $delegate.jsLoader=function(paths,callback,params){var promises=[];angular.forEach(paths,function(path){promises.push($delegate.buildElement("js",path,params))}),$q.all(promises).then(function(){callback()},function(err){callback(err)})},$delegate.jsLoader.ocLazyLoadLoader=!0,$delegate}])}])}(angular),function(angular){"use strict";angular.module("oc.lazyLoad").config(["$provide",function($provide){$provide.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function($delegate,$templateCache,$q,$http){return $delegate.templatesLoader=function(paths,callback,params){var promises=[],filesCache=$delegate._getFilesCache();return angular.forEach(paths,function(url){var deferred=$q.defer();promises.push(deferred.promise),$http.get(url,params).then(function(response){var data=response.data;angular.isString(data)&&0<data.length&&angular.forEach(angular.element(data),function(node){"SCRIPT"===node.nodeName&&"text/ng-template"===node.type&&$templateCache.put(node.id,node.innerHTML)}),angular.isUndefined(filesCache.get(url))&&filesCache.put(url,!0),deferred.resolve()}).catch(function(response){deferred.reject(new Error('Unable to load template file "'+url+'": '+response.data))})}),$q.all(promises).then(function(){callback()},function(err){callback(err)})},$delegate.templatesLoader.ocLazyLoadLoader=!0,$delegate}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(null==this)throw new TypeError('"this" is null or not defined');var O=Object(this),len=O.length>>>0;if(0==len)return-1;var n=+fromIndex||0;if(Math.abs(n)===1/0&&(n=0),len<=n)return-1;for(k=Math.max(0<=n?n:len-Math.abs(n),0);k<len;){if(k in O&&O[k]===searchElement)return k;k++}return-1})},function(module,__webpack_exports__,__webpack_require__){"use strict";var RejectType,external_angular_=__webpack_require__(14),ng_from_global=angular,ng=external_angular_&&external_angular_.module?external_angular_:ng_from_global,common=__webpack_require__(0),coreservices=__webpack_require__(3),Glob=function(){function Glob(text){this.text=text,this.glob=text.split(".");var regexpString=this.text.split(".").map(function(seg){return"**"===seg?"(?:|(?:\\.[^.]*)*)":"*"===seg?"\\.[^.]*":"\\."+seg}).join("");this.regexp=new RegExp("^"+regexpString+"$")}return Glob.is=function(text){return!!/[!,*]+/.exec(text)},Glob.fromString=function(text){return Glob.is(text)?new Glob(text):null},Glob.prototype.matches=function(name){return this.regexp.test("."+name)},Glob}(),hof=__webpack_require__(2),predicates=__webpack_require__(1),queue_Queue=(Queue.prototype.enqueue=function(item){var items=this._items;return items.push(item),this._limit&&items.length>this._limit&&this.evict(),item},Queue.prototype.evict=function(){var item=this._items.shift();return this._evictListeners.forEach(function(fn){return fn(item)}),item},Queue.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},Queue.prototype.clear=function(){var current=this._items;return this._items=[],current},Queue.prototype.size=function(){return this._items.length},Queue.prototype.remove=function(item){var idx=this._items.indexOf(item);return-1<idx&&this._items.splice(idx,1)[0]},Queue.prototype.peekTail=function(){return this._items[this._items.length-1]},Queue.prototype.peekHead=function(){if(this.size())return this._items[0]},Queue);function Queue(_items,_limit){void 0===_items&&(_items=[]),void 0===_limit&&(_limit=null),this._items=_items,this._limit=_limit,this._evictListeners=[],this.onEvict=Object(common.B)(this._evictListeners)}!function(RejectType){RejectType[RejectType.SUPERSEDED=2]="SUPERSEDED",RejectType[RejectType.ABORTED=3]="ABORTED",RejectType[RejectType.INVALID=4]="INVALID",RejectType[RejectType.IGNORED=5]="IGNORED",RejectType[RejectType.ERROR=6]="ERROR"}(RejectType=RejectType||{});var rejectFactory_id=0,rejectFactory_Rejection=(Rejection.isRejectionPromise=function(obj){return obj&&"function"==typeof obj.then&&Object(hof.e)(Rejection)(obj._transitionRejection)},Rejection.superseded=function(detail,options){var rejection=new Rejection(RejectType.SUPERSEDED,"The transition has been superseded by a different transition",detail);return options&&options.redirected&&(rejection.redirected=!0),rejection},Rejection.redirected=function(detail){return Rejection.superseded(detail,{redirected:!0})},Rejection.invalid=function(detail){return new Rejection(RejectType.INVALID,"This transition is invalid",detail)},Rejection.ignored=function(detail){return new Rejection(RejectType.IGNORED,"The transition was ignored",detail)},Rejection.aborted=function(detail){return new Rejection(RejectType.ABORTED,"The transition has been aborted",detail)},Rejection.errored=function(detail){return new Rejection(RejectType.ERROR,"The transition errored",detail)},Rejection.normalize=function(detail){return Object(hof.e)(Rejection)(detail)?detail:Rejection.errored(detail)},Rejection.prototype.toString=function(){var d,detail=(d=this.detail)&&d.toString!==Object.prototype.toString?d.toString():stringify(d);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+detail+")"},Rejection.prototype.toPromise=function(){return Object(common.l)(Object(common.F)(this),{_transitionRejection:this})},Rejection);function Rejection(type,message,detail){this.$id=rejectFactory_id++,this.type=type,this.message=message,this.detail=detail}function maxLength(max,str){return str.length<=max?str:str.substr(0,max-3)+"..."}function kebobString(camelCase){return camelCase.replace(/^([A-Z])/,function($1){return $1.toLowerCase()}).replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function functionToString(fn){var fnStr=fnToString(fn),namedFunctionMatch=fnStr.match(/^(function [^ ]+\([^)]*\))/),toStr=namedFunctionMatch?namedFunctionMatch[1]:fnStr,fnName=fn.name||"";return fnName&&toStr.match(/function \(/)?"function "+fnName+toStr.substr(9):toStr}function fnToString(fn){var _fn=Object(predicates.a)(fn)?fn.slice(-1)[0]:fn;return _fn&&_fn.toString()||"undefined"}var isRejection=rejectFactory_Rejection.isRejectionPromise,stringifyPattern=Object(hof.i)([[predicates.m,Object(hof.m)("undefined")],[predicates.f,Object(hof.m)("null")],[predicates.j,Object(hof.m)("[Promise]")],[isRejection,function(x){return x._transitionRejection.toString()}],[function(obj){return Object(predicates.i)(obj)&&!Object(predicates.a)(obj)&&obj.constructor!==Object&&Object(predicates.d)(obj.toString)},function(x){return x.toString()}],[predicates.e,functionToString],[Object(hof.m)(!0),common.r]]);function stringify(o){var seen=[];function format(value){if(Object(predicates.i)(value)){if(-1!==seen.indexOf(value))return"[circular ref]";seen.push(value)}return stringifyPattern(value)}return Object(predicates.m)(o)?format(o):JSON.stringify(o,function(key,value){return format(value)}).replace(/\\"/g,'"')}function beforeAfterSubstr(char){return function(str){if(!str)return["",""];var idx=str.indexOf(char);return-1===idx?[str,""]:[str.substr(0,idx),str.substr(idx+1)]}}function stripLastPathElement(str){return str.replace(/\/[^/]*$/,"")}new RegExp("^(?:[a-z]+:)?//[^/]+/");var splitHash=beforeAfterSubstr("#"),splitQuery=beforeAfterSubstr("?"),splitEqual=beforeAfterSubstr("=");function joinNeighborsR(acc,x){return Object(predicates.l)(Object(common.G)(acc))&&Object(predicates.l)(x)?acc.slice(0,-1).concat(Object(common.G)(acc)+x):Object(common.A)(acc,x)}var noopConsoleStub={log:common.x,error:common.x,table:common.x};function ie9Console(console){function bound(fn){return Function.prototype.bind.call(fn,console)}return{log:bound(console.log),error:bound(console.log),table:bound(console.log)}}var safeConsole="undefined"!=typeof document&&document.documentMode&&9===document.documentMode?window&&window.console?ie9Console(window.console):noopConsoleStub:console.table&&console.error?console:function(console){var log=console.log.bind(console);return{log:log,error:console.error?console.error.bind(console):log,table:console.table?console.table.bind(console):log}}(console);function uiViewString(uiview){if(!uiview)return"ui-view (defunct)";var state=uiview.creationContext?uiview.creationContext.name||"(root)":"(none)";return"[ui-view#"+uiview.id+" "+uiview.$type+":"+uiview.fqn+" ("+uiview.name+"@"+state+")]"}var Category;function normalizedCat(input){return Object(predicates.h)(input)?Category[input]:Category[Category[input]]}!function(Category){Category[Category.RESOLVE=0]="RESOLVE",Category[Category.TRANSITION=1]="TRANSITION",Category[Category.HOOK=2]="HOOK",Category[Category.UIVIEW=3]="UIVIEW",Category[Category.VIEWCONFIG=4]="VIEWCONFIG"}(Category=Category||{});function transLbl(trans){return"Transition #"+_tid(trans)+"-"+_rid(trans)}var _tid=Object(hof.h)("$id"),_rid=Object(hof.h)("router.$id");function Trace(){this._enabled={},this.approximateDigests=0}var trace=new(Trace.prototype._set=function(enabled,categories){var _this=this;categories.length||(categories=Object.keys(Category).map(function(k){return parseInt(k,10)}).filter(function(k){return!isNaN(k)}).map(function(key){return Category[key]})),categories.map(normalizedCat).forEach(function(category){return _this._enabled[category]=enabled})},Trace.prototype.enable=function(){for(var categories=[],_i=0;_i<arguments.length;_i++)categories[_i]=arguments[_i];this._set(!0,categories)},Trace.prototype.disable=function(){for(var categories=[],_i=0;_i<arguments.length;_i++)categories[_i]=arguments[_i];this._set(!1,categories)},Trace.prototype.enabled=function(category){return!!this._enabled[normalizedCat(category)]},Trace.prototype.traceTransitionStart=function(trans){this.enabled(Category.TRANSITION)&&safeConsole.log(transLbl(trans)+": Started  -> "+stringify(trans))},Trace.prototype.traceTransitionIgnored=function(trans){this.enabled(Category.TRANSITION)&&safeConsole.log(transLbl(trans)+": Ignored  <> "+stringify(trans))},Trace.prototype.traceHookInvocation=function(step,trans,options){if(this.enabled(Category.HOOK)){var event=Object(hof.h)("traceData.hookType")(options)||"internal",context=Object(hof.h)("traceData.context.state.name")(options)||Object(hof.h)("traceData.context")(options)||"unknown",name=functionToString(step.registeredHook.callback);safeConsole.log(transLbl(trans)+":   Hook -> "+event+" context: "+context+", "+maxLength(200,name))}},Trace.prototype.traceHookResult=function(hookResult,trans,transitionOptions){this.enabled(Category.HOOK)&&safeConsole.log(transLbl(trans)+":   <- Hook returned: "+maxLength(200,stringify(hookResult)))},Trace.prototype.traceResolvePath=function(path,when,trans){this.enabled(Category.RESOLVE)&&safeConsole.log(transLbl(trans)+":         Resolving "+path+" ("+when+")")},Trace.prototype.traceResolvableResolved=function(resolvable,trans){this.enabled(Category.RESOLVE)&&safeConsole.log(transLbl(trans)+":               <- Resolved  "+resolvable+" to: "+maxLength(200,stringify(resolvable.data)))},Trace.prototype.traceError=function(reason,trans){this.enabled(Category.TRANSITION)&&safeConsole.log(transLbl(trans)+": <- Rejected "+stringify(trans)+", reason: "+reason)},Trace.prototype.traceSuccess=function(finalState,trans){this.enabled(Category.TRANSITION)&&safeConsole.log(transLbl(trans)+": <- Success  "+stringify(trans)+", final state: "+finalState.name)},Trace.prototype.traceUIViewEvent=function(event,viewData,extra){void 0===extra&&(extra=""),this.enabled(Category.UIVIEW)&&safeConsole.log("ui-view: "+function(length,str){for(;str.length<length;)str+=" ";return str}(30,event)+" "+uiViewString(viewData)+extra)},Trace.prototype.traceUIViewConfigUpdated=function(viewData,context){this.enabled(Category.UIVIEW)&&this.traceUIViewEvent("Updating",viewData," with ViewConfig from context='"+context+"'")},Trace.prototype.traceUIViewFill=function(viewData,html){this.enabled(Category.UIVIEW)&&this.traceUIViewEvent("Fill",viewData," with: "+maxLength(200,html))},Trace.prototype.traceViewSync=function(pairs){if(this.enabled(Category.VIEWCONFIG)){var uivheader="uiview component fqn",mapping=pairs.map(function(_a){var _b,uiView=_a.uiView,viewConfig=_a.viewConfig,uiv=uiView&&uiView.fqn,cfg=viewConfig&&viewConfig.viewDecl.$context.name+": ("+viewConfig.viewDecl.$name+")";return(_b={})[uivheader]=uiv,_b["view config state (view name)"]=cfg,_b}).sort(function(a,b){return(a[uivheader]||"").localeCompare(b[uivheader]||"")});safeConsole.table(mapping)}},Trace.prototype.traceViewServiceEvent=function(event,viewConfig){this.enabled(Category.VIEWCONFIG)&&safeConsole.log("VIEWCONFIG: "+event+" "+function(viewConfig){var view=viewConfig.viewDecl,state=view.$context.name||"(root)";return"[View#"+viewConfig.$id+" from '"+state+"' state]: target ui-view: '"+view.$uiViewName+"@"+view.$uiViewContextAnchor+"'"}(viewConfig))},Trace.prototype.traceViewServiceUIViewEvent=function(event,viewData){this.enabled(Category.VIEWCONFIG)&&safeConsole.log("VIEWCONFIG: "+event+" "+uiViewString(viewData))},Trace),paramType_ParamType=(ParamType.prototype.is=function(val,key){return!0},ParamType.prototype.encode=function(val,key){return val},ParamType.prototype.decode=function(val,key){return val},ParamType.prototype.equals=function(a,b){return a==b},ParamType.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)},ParamType.prototype.toString=function(){return"{ParamType:"+this.name+"}"},ParamType.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)},ParamType.prototype.$asArray=function(mode,isSearch){if(!mode)return this;if("auto"===mode&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)},ParamType);function ParamType(def){this.pattern=/.*/,this.inherit=!0,Object(common.l)(this,def)}function ArrayType(type,mode){var _this=this;function arrayWrap(val){return Object(predicates.a)(val)?val:Object(predicates.c)(val)?[val]:[]}function arrayHandler(callback,allTruthyMode){return function(val){if(Object(predicates.a)(val)&&0===val.length)return val;var arr=arrayWrap(val),result=Object(common.u)(arr,callback);return!0===allTruthyMode?0===Object(common.m)(result,function(x){return!x}).length:function(val){switch(val.length){case 0:return;case 1:return"auto"===mode?val[0]:val;default:return val}}(result)}}function arrayEqualsHandler(callback){return function(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return!1;for(var i=0;i<left.length;i++)if(!callback(left[i],right[i]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(name){var paramTypeFn=type[name].bind(type),wrapperFn="equals"===name?arrayEqualsHandler:arrayHandler;_this[name]=wrapperFn(paramTypeFn)}),Object(common.l)(this,{dynamic:type.dynamic,name:type.name,pattern:type.pattern,inherit:type.inherit,raw:type.raw,is:arrayHandler(type.is.bind(type),!0),$arrayMode:mode})}var DefType,hasOwn=Object.prototype.hasOwnProperty,isShorthand=function(cfg){return 0===["value","type","squash","array","dynamic"].filter(hasOwn.bind(cfg||{})).length};function getParamDeclaration(paramName,location,state){var noReloadOnSearch=!1===state.reloadOnSearch&&location===DefType.SEARCH||void 0,dynamic=Object(common.n)([state.dynamic,noReloadOnSearch],predicates.c),defaultConfig=Object(predicates.c)(dynamic)?{dynamic:dynamic}:{},paramConfig=function(cfg){function getStaticDefaultValue(){return cfg.value}cfg=isShorthand(cfg)?{value:cfg}:cfg,getStaticDefaultValue.__cacheable=!0;var $$fn=Object(predicates.e)(cfg.value)?cfg.value:getStaticDefaultValue;return Object(common.l)(cfg,{$$fn:$$fn})}(state&&state.params&&state.params[paramName]);return Object(common.l)(defaultConfig,paramConfig)}!function(DefType){DefType[DefType.PATH=0]="PATH",DefType[DefType.SEARCH=1]="SEARCH",DefType[DefType.CONFIG=2]="CONFIG"}(DefType=DefType||{});var param_Param=(Param.values=function(params,values){void 0===values&&(values={});for(var paramValues={},_i=0,params_1=params;_i<params_1.length;_i++){var param=params_1[_i];paramValues[param.id]=param.value(values[param.id])}return paramValues},Param.changed=function(params,values1,values2){return void 0===values1&&(values1={}),void 0===values2&&(values2={}),params.filter(function(param){return!param.type.equals(values1[param.id],values2[param.id])})},Param.equals=function(params,values1,values2){return void 0===values1&&(values1={}),void 0===values2&&(values2={}),0===Param.changed(params,values1,values2).length},Param.validates=function(params,values){return void 0===values&&(values={}),params.map(function(param){return param.validates(values[param.id])}).reduce(common.a,!0)},Param.prototype.isDefaultValue=function(value){return this.isOptional&&this.type.equals(this.value(),value)},Param.prototype.value=function(value){var _this=this;return value=function(val){for(var _i=0,_a=_this.replace;_i<_a.length;_i++){var tuple=_a[_i];if(tuple.from===val)return tuple.to}return val}(value),Object(predicates.m)(value)?function(){if(_this._defaultValueCache)return _this._defaultValueCache.defaultValue;if(!coreservices.b.$injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=coreservices.b.$injector.invoke(_this.config.$$fn);if(null!=defaultValue&&!_this.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+_this.id+"' is not an instance of ParamType ("+_this.type.name+")");return _this.config.$$fn.__cacheable&&(_this._defaultValueCache={defaultValue:defaultValue}),defaultValue}():this.type.$normalize(value)},Param.prototype.isSearch=function(){return this.location===DefType.SEARCH},Param.prototype.validates=function(value){if((Object(predicates.m)(value)||null===value)&&this.isOptional)return!0;var normalized=this.type.$normalize(value);if(!this.type.is(normalized))return!1;var encoded=this.type.encode(normalized);return!(Object(predicates.l)(encoded)&&!this.type.pattern.exec(encoded))},Param.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},Param);function Param(id,type,location,urlConfig,state){var config=getParamDeclaration(id,location,state);type=function(cfg,urlType,location,id,paramTypes){if(cfg.type&&urlType&&"string"!==urlType.name)throw new Error("Param '"+id+"' has two type configurations.");if(cfg.type&&urlType&&"string"===urlType.name&&paramTypes.type(cfg.type))return paramTypes.type(cfg.type);if(urlType)return urlType;if(cfg.type)return cfg.type instanceof paramType_ParamType?cfg.type:paramTypes.type(cfg.type);var type=location===DefType.CONFIG?"any":location===DefType.PATH?"path":location===DefType.SEARCH?"query":"string";return paramTypes.type(type)}(config,type,location,id,urlConfig.paramTypes);var arrayDefaults,arrayParamNomenclature,arrayMode=(arrayDefaults={array:location===DefType.SEARCH&&"auto"},arrayParamNomenclature=id.match(/\[\]$/)?{array:!0}:{},Object(common.l)(arrayDefaults,arrayParamNomenclature,config).array);type=arrayMode?type.$asArray(arrayMode,location===DefType.SEARCH):type;var isOptional=void 0!==config.value||location===DefType.SEARCH,dynamic=Object(predicates.c)(config.dynamic)?!!config.dynamic:!!type.dynamic,raw=Object(predicates.c)(config.raw)?!!config.raw:!!type.raw,squash=function(config,isOptional,defaultPolicy){var squash=config.squash;if(!isOptional||!1===squash)return!1;if(!Object(predicates.c)(squash)||null==squash)return defaultPolicy;if(!0===squash||Object(predicates.l)(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}(config,isOptional,urlConfig.defaultSquashPolicy()),replace=function(config,arrayMode,isOptional,squash){var defaultPolicy=[{from:"",to:isOptional||arrayMode?void 0:""},{from:null,to:isOptional||arrayMode?void 0:""}],replace=Object(predicates.a)(config.replace)?config.replace:[];Object(predicates.l)(squash)&&replace.push({from:squash,to:void 0});var configuredKeys=Object(common.u)(replace,Object(hof.k)("from"));return Object(common.m)(defaultPolicy,function(item){return-1===configuredKeys.indexOf(item.from)}).concat(replace)}(config,arrayMode,isOptional,squash),inherit=Object(predicates.c)(config.inherit)?!!config.inherit:!!type.inherit;Object(common.l)(this,{id:id,type:type,location:location,isOptional:isOptional,dynamic:dynamic,raw:raw,squash:squash,replace:replace,inherit:inherit,array:arrayMode,config:config})}var paramTypes_ParamTypes=(ParamTypes.prototype.dispose=function(){this.types={}},ParamTypes.prototype.type=function(name,definition,definitionFn){if(!Object(predicates.c)(definition))return this.types[name];if(this.types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");return this.types[name]=new paramType_ParamType(Object(common.l)({name:name},definition)),definitionFn&&(this.typeQueue.push({name:name,def:definitionFn}),this.enqueue||this._flushTypeQueue()),this},ParamTypes.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var type=this.typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");Object(common.l)(this.types[type.name],coreservices.b.$injector.invoke(type.def))}},ParamTypes);function ParamTypes(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=Object(common.z)(ParamTypes.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=Object(common.t)(Object(common.u)(this.defaultTypes,function(definition,name){return new paramType_ParamType(Object(common.l)({name:name},definition))}),{})}function makeDefaultType(def){function valToString(val){return null!=val?val.toString():val}var defaultTypeBase={encode:valToString,decode:valToString,is:Object(hof.e)(String),pattern:/.*/,equals:function(a,b){return a==b}};return Object(common.l)({},defaultTypeBase,def)}Object(common.l)(paramTypes_ParamTypes.prototype,{string:makeDefaultType({}),path:makeDefaultType({pattern:/[^/]*/}),query:makeDefaultType({}),hash:makeDefaultType({inherit:!1}),int:makeDefaultType({decode:function(val){return parseInt(val,10)},is:function(val){return!Object(predicates.g)(val)&&this.decode(val.toString())===val},pattern:/-?\d+/}),bool:makeDefaultType({encode:function(val){return val?1:0},decode:function(val){return 0!==parseInt(val,10)},is:Object(hof.e)(Boolean),pattern:/0|1/}),date:makeDefaultType({encode:function(val){return this.is(val)?[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-"):void 0},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):void 0},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(l,r){return["getFullYear","getMonth","getDate"].reduce(function(acc,fn){return acc&&l[fn]()===r[fn]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:makeDefaultType({encode:common.H,decode:common.q,is:Object(hof.e)(Object),equals:common.k,pattern:/[^/]*/}),any:makeDefaultType({encode:common.r,decode:common.r,is:function(){return!0},equals:common.k})});var stateParams_StateParams=(StateParams.prototype.$inherit=function(newParams,$current,$to){var parentParams,parents=Object(common.b)($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i]&&parents[i].params&&(parentParams=Object.keys(parents[i].params)).length)for(var j in parentParams)0<=inheritList.indexOf(parentParams[j])||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=this[parentParams[j]]);return Object(common.l)({},inherited,newParams)},StateParams);function StateParams(params){void 0===params&&(params={}),Object(common.l)(this,params)}var pathNode_PathNode=(PathNode.prototype.clone=function(){return new PathNode(this)},PathNode.prototype.applyRawParams=function(params){return this.paramValues=this.paramSchema.reduce(function(memo,pDef){return Object(common.d)(memo,[(paramDef=pDef).id,paramDef.value(params[paramDef.id])]);var paramDef},{}),this},PathNode.prototype.parameter=function(name){return Object(common.n)(this.paramSchema,Object(hof.l)("id",name))},PathNode.prototype.equals=function(node,paramsFn){var diff=this.diff(node,paramsFn);return diff&&0===diff.length},PathNode.prototype.diff=function(node,paramsFn){if(this.state!==node.state)return!1;var params=paramsFn?paramsFn(this):this.paramSchema;return param_Param.changed(params,this.paramValues,node.paramValues)},PathNode.clone=function(node){return node.clone()},PathNode);function PathNode(stateOrNode){if(stateOrNode instanceof PathNode){var node=stateOrNode;this.state=node.state,this.paramSchema=node.paramSchema.slice(),this.paramValues=Object(common.l)({},node.paramValues),this.resolvables=node.resolvables.slice(),this.views=node.views&&node.views.slice()}else{var state=stateOrNode;this.state=state,this.paramSchema=state.parameters({inherit:!1}),this.paramValues={},this.resolvables=state.resolvables.map(function(res){return res.clone()})}}var targetState_TargetState=(TargetState.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},TargetState.prototype.identifier=function(){return this._identifier},TargetState.prototype.params=function(){return this._params},TargetState.prototype.$state=function(){return this._definition},TargetState.prototype.state=function(){return this._definition&&this._definition.self},TargetState.prototype.options=function(){return this._options},TargetState.prototype.exists=function(){return!(!this._definition||!this._definition.self)},TargetState.prototype.valid=function(){return!this.error()},TargetState.prototype.error=function(){var base=this.options().relative;if(this._definition||!base)return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'";var stateName=base.name?base.name:base;return"Could not resolve '"+this.name()+"' from state '"+stateName+"'"},TargetState.prototype.toString=function(){return"'"+this.name()+"'"+stringify(this.params())},TargetState.prototype.withState=function(state){return new TargetState(this._stateRegistry,state,this._params,this._options)},TargetState.prototype.withParams=function(params,replace){void 0===replace&&(replace=!1);var newParams=replace?params:Object(common.l)({},this._params,params);return new TargetState(this._stateRegistry,this._identifier,newParams,this._options)},TargetState.prototype.withOptions=function(options,replace){void 0===replace&&(replace=!1);var newOpts=replace?options:Object(common.l)({},this._options,options);return new TargetState(this._stateRegistry,this._identifier,this._params,newOpts)},TargetState.isDef=function(obj){return obj&&obj.state&&(Object(predicates.l)(obj.state)||Object(predicates.l)(obj.state.name))},TargetState);function TargetState(_stateRegistry,_identifier,_params,_options){this._stateRegistry=_stateRegistry,this._identifier=_identifier,this._identifier=_identifier,this._params=Object(common.l)({},_params||{}),this._options=Object(common.l)({},_options||{}),this._definition=_stateRegistry.matcher.find(_identifier,this._options.relative)}var pathUtils_PathUtils=(PathUtils.makeTargetState=function(registry,path){var state=Object(common.G)(path).state;return new targetState_TargetState(registry,state,path.map(Object(hof.k)("paramValues")).reduce(common.w,{}),{})},PathUtils.buildPath=function(targetState){var toParams=targetState.params();return targetState.$state().path.map(function(state){return new pathNode_PathNode(state).applyRawParams(toParams)})},PathUtils.buildToPath=function(fromPath,targetState){var toPath=PathUtils.buildPath(targetState);return targetState.options().inherit?PathUtils.inheritParams(fromPath,toPath,Object.keys(targetState.params())):toPath},PathUtils.applyViewConfigs=function($view,path,states){path.filter(function(node){return Object(common.s)(states,node.state)}).forEach(function(node){var viewDecls=Object(common.L)(node.state.views||{}),subPath=PathUtils.subPath(path,function(n){return n===node}),viewConfigs=viewDecls.map(function(view){return $view.createViewConfig(subPath,view)});node.views=viewConfigs.reduce(common.K,[])})},PathUtils.inheritParams=function(fromPath,toPath,toKeys){void 0===toKeys&&(toKeys=[]);var noInherit=fromPath.map(function(node){return node.paramSchema}).reduce(common.K,[]).filter(function(param){return!param.inherit}).map(Object(hof.k)("id"));return toPath.map(function(toNode){var toParamVals=Object(common.l)({},toNode&&toNode.paramValues),incomingParamVals=Object(common.z)(toParamVals,toKeys);toParamVals=Object(common.y)(toParamVals,toKeys);var path,state,node,fromParamVals=Object(common.y)((path=fromPath,state=toNode.state,node=Object(common.n)(path,Object(hof.l)("state",state)),Object(common.l)({},node&&node.paramValues)||{}),noInherit),ownParamVals=Object(common.l)(toParamVals,fromParamVals,incomingParamVals);return new pathNode_PathNode(toNode.state).applyRawParams(ownParamVals)})},PathUtils.treeChanges=function(fromPath,toPath,reloadState){for(var node1,node2,from,retained,exiting,entering,max=Math.min(fromPath.length,toPath.length),keep=0;keep<max&&fromPath[keep].state!==reloadState&&(node1=fromPath[keep],node2=toPath[keep],node1.equals(node2,PathUtils.nonDynamicParams));)keep++;retained=(from=fromPath).slice(0,keep),exiting=from.slice(keep);var retainedWithToParams=retained.map(function(retainedNode,idx){var cloned=retainedNode.clone();return cloned.paramValues=toPath[idx].paramValues,cloned});return entering=toPath.slice(keep),{from:from,to:retainedWithToParams.concat(entering),retained:retained,retainedWithToParams:retainedWithToParams,exiting:exiting,entering:entering}},PathUtils.matching=function(pathA,pathB,paramsFn){var done=!1;return Object(common.e)(pathA,pathB).reduce(function(matching,_a){var nodeA=_a[0],nodeB=_a[1];return(done=done||!nodeA.equals(nodeB,paramsFn))?matching:matching.concat(nodeA)},[])},PathUtils.equals=function(pathA,pathB,paramsFn){return pathA.length===pathB.length&&PathUtils.matching(pathA,pathB,paramsFn).length===pathA.length},PathUtils.subPath=function(path,predicate){var node=Object(common.n)(path,predicate),elementIdx=path.indexOf(node);return-1===elementIdx?void 0:path.slice(0,elementIdx+1)},PathUtils.nonDynamicParams=function(node){return node.state.parameters({inherit:!1}).filter(function(param){return!param.dynamic})},PathUtils.paramValues=function(path){return path.reduce(function(acc,node){return Object(common.l)(acc,node.paramValues)},{})},PathUtils);function PathUtils(){}var resolvePolicies_when={LAZY:"LAZY",EAGER:"EAGER"},defaultResolvePolicy_when="LAZY",defaultResolvePolicy_async="WAIT",resolvable_Resolvable=(Resolvable.prototype.getPolicy=function(state){var thisPolicy=this.policy||{},statePolicy=state&&state.resolvePolicy||{};return{when:thisPolicy.when||statePolicy.when||defaultResolvePolicy_when,async:thisPolicy.async||statePolicy.async||defaultResolvePolicy_async}},Resolvable.prototype.resolve=function(resolveContext,trans){var _this=this,$q=coreservices.b.$q,node=resolveContext.findNode(this),state=node&&node.state,asyncPolicy=this.getPolicy(state).async,customAsyncPolicy=Object(predicates.d)(asyncPolicy)?asyncPolicy:common.r;return this.promise=$q.when().then(function(){return $q.all(resolveContext.getDependencies(_this).map(function(resolvable){return resolvable.get(resolveContext,trans)}))}).then(function(resolvedDeps){return _this.resolveFn.apply(null,resolvedDeps)}).then(customAsyncPolicy).then(function(resolvedValue){return _this.data=resolvedValue,_this.resolved=!0,_this.resolveFn=null,trace.traceResolvableResolved(_this,trans),_this.data})},Resolvable.prototype.get=function(resolveContext,trans){return this.promise||this.resolve(resolveContext,trans)},Resolvable.prototype.toString=function(){return"Resolvable(token: "+stringify(this.token)+", requires: ["+this.deps.map(stringify)+"])"},Resolvable.prototype.clone=function(){return new Resolvable(this)},Resolvable.fromData=function(token,data){return new Resolvable(token,function(){return data},null,null,data)},Resolvable);function Resolvable(arg1,resolveFn,deps,policy,data){if(this.resolved=!1,this.promise=void 0,arg1 instanceof Resolvable)Object(common.l)(this,arg1);else if(Object(predicates.d)(resolveFn)){if(Object(predicates.g)(arg1))throw new Error("new Resolvable(): token argument is required");if(!Object(predicates.d)(resolveFn))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=arg1,this.policy=policy,this.resolveFn=resolveFn,this.deps=deps||[],this.data=data,this.resolved=void 0!==data,this.promise=this.resolved?coreservices.b.$q.when(this.data):void 0}else if(Object(predicates.i)(arg1)&&arg1.token&&(arg1.hasOwnProperty("resolveFn")||arg1.hasOwnProperty("data"))){return new Resolvable(arg1.token,arg1.resolveFn,arg1.deps,arg1.policy,arg1.data)}}var ALL_WHENS=[resolvePolicies_when.EAGER,resolvePolicies_when.LAZY],EAGER_WHENS=[resolvePolicies_when.EAGER],resolveContext_ResolveContext=(ResolveContext.prototype.getTokens=function(){return this._path.reduce(function(acc,node){return acc.concat(node.resolvables.map(function(r){return r.token}))},[]).reduce(common.I,[])},ResolveContext.prototype.getResolvable=function(token){var matching=this._path.map(function(node){return node.resolvables}).reduce(common.K,[]).filter(function(r){return r.token===token});return Object(common.G)(matching)},ResolveContext.prototype.getPolicy=function(resolvable){var node=this.findNode(resolvable);return resolvable.getPolicy(node.state)},ResolveContext.prototype.subContext=function(state){return new ResolveContext(pathUtils_PathUtils.subPath(this._path,function(node){return node.state===state}))},ResolveContext.prototype.addResolvables=function(newResolvables,state){var node=Object(common.n)(this._path,Object(hof.l)("state",state)),keys=newResolvables.map(function(r){return r.token});node.resolvables=node.resolvables.filter(function(r){return-1===keys.indexOf(r.token)}).concat(newResolvables)},ResolveContext.prototype.resolvePath=function(when,trans){var _this=this;void 0===when&&(when="LAZY");var matchedWhens=(Object(common.s)(ALL_WHENS,when)?when:"LAZY")===resolvePolicies_when.EAGER?EAGER_WHENS:ALL_WHENS;function matchesPolicy(acceptedVals,whenOrAsync){return function(resolvable){return Object(common.s)(acceptedVals,_this.getPolicy(resolvable)[whenOrAsync])}}trace.traceResolvePath(this._path,when,trans);var promises=this._path.reduce(function(acc,node){function getResult(r){return r.get(subContext,trans).then(function(value){return{token:r.token,value:value}})}var nodeResolvables=node.resolvables.filter(matchesPolicy(matchedWhens,"when")),nowait=nodeResolvables.filter(matchesPolicy(["NOWAIT"],"async")),wait=nodeResolvables.filter(Object(hof.f)(matchesPolicy(["NOWAIT"],"async"))),subContext=_this.subContext(node.state);return nowait.forEach(getResult),acc.concat(wait.map(getResult))},[]);return coreservices.b.$q.all(promises)},ResolveContext.prototype.injector=function(){return this._injector||(this._injector=new resolveContext_UIInjectorImpl(this))},ResolveContext.prototype.findNode=function(resolvable){return Object(common.n)(this._path,function(node){return Object(common.s)(node.resolvables,resolvable)})},ResolveContext.prototype.getDependencies=function(resolvable){var _this=this,node=this.findNode(resolvable),availableResolvables=(pathUtils_PathUtils.subPath(this._path,function(x){return x===node})||this._path).reduce(function(acc,_node){return acc.concat(_node.resolvables)},[]).filter(function(res){return res!==resolvable});return resolvable.deps.map(function(token){var matching=availableResolvables.filter(function(r){return r.token===token});if(matching.length)return Object(common.G)(matching);var fromInjector=_this.injector().getNative(token);if(Object(predicates.m)(fromInjector))throw new Error("Could not find Dependency Injection token: "+stringify(token));return new resolvable_Resolvable(token,function(){return fromInjector},[],fromInjector)})},ResolveContext);function ResolveContext(_path){this._path=_path}var resolveContext_UIInjectorImpl=(UIInjectorImpl.prototype.get=function(token){var resolvable=this.context.getResolvable(token);if(resolvable){if("NOWAIT"===this.context.getPolicy(resolvable).async)return resolvable.get(this.context);if(!resolvable.resolved)throw new Error("Resolvable async .get() not complete:"+stringify(resolvable.token));return resolvable.data}return this.getNative(token)},UIInjectorImpl.prototype.getAsync=function(token){var resolvable=this.context.getResolvable(token);return resolvable?resolvable.get(this.context):coreservices.b.$q.when(this.native.get(token))},UIInjectorImpl.prototype.getNative=function(token){return this.native&&this.native.get(token)},UIInjectorImpl);function UIInjectorImpl(context){this.context=context,this.native=this.get("Native Injector")||coreservices.b.$injector}function nameBuilder(state){return state.name}function selfBuilder(state){return state.self.$$state=function(){return state},state.self}function dataBuilder(state){return state.parent&&state.parent.data&&(state.data=state.self.data=Object(common.t)(state.parent.data,state.data)),state.data}function getUrlBuilder($urlMatcherFactoryProvider,root){return function(stateObject){var stateDec=stateObject.self;if(stateDec&&stateDec.url&&stateDec.name&&stateDec.name.match(/\.\*\*$/)){var newStateDec={};Object(common.g)(stateDec,newStateDec),newStateDec.url+="{remainder:any}",stateDec=newStateDec}var parent=stateObject.parent,parsed=function(url){if(!Object(predicates.l)(url))return!1;var root="^"===url.charAt(0);return{val:root?url.substring(1):url,root:root}}(stateDec.url),url=parsed?$urlMatcherFactoryProvider.compile(parsed.val,{state:stateDec}):stateDec.url;if(!url)return null;if(!$urlMatcherFactoryProvider.isMatcher(url))throw new Error("Invalid url '"+url+"' in state '"+stateObject+"'");return parsed&&parsed.root?url:(parent&&parent.navigable||root()).url.append(url)}}function pathBuilder(state){return state.parent?state.parent.path.concat(state):[state]}function includesBuilder(state){var includes=state.parent?Object(common.l)({},state.parent.includes):{};return includes[state.name]=!0,includes}function resolvablesBuilder(state){function getToken(p){return p.provide||p.token}var resolveObj,resolvePolicies,literal2Resolvable=Object(hof.i)([[Object(hof.k)("resolveFn"),function(p){return new resolvable_Resolvable(getToken(p),p.resolveFn,p.deps,p.policy)}],[Object(hof.k)("useFactory"),function(p){return new resolvable_Resolvable(getToken(p),p.useFactory,p.deps||p.dependencies,p.policy)}],[Object(hof.k)("useClass"),function(p){return new resolvable_Resolvable(getToken(p),function(){return new p.useClass},[],p.policy)}],[Object(hof.k)("useValue"),function(p){return new resolvable_Resolvable(getToken(p),function(){return p.useValue},[],p.policy,p.useValue)}],[Object(hof.k)("useExisting"),function(p){return new resolvable_Resolvable(getToken(p),common.r,[p.useExisting],p.policy)}]]),tuple2Resolvable=Object(hof.i)([[Object(hof.j)(Object(hof.k)("val"),predicates.l),function(tuple){return new resolvable_Resolvable(tuple.token,common.r,[tuple.val],tuple.policy)}],[Object(hof.j)(Object(hof.k)("val"),predicates.a),function(tuple){return new resolvable_Resolvable(tuple.token,Object(common.G)(tuple.val),tuple.val.slice(0,-1),tuple.policy)}],[Object(hof.j)(Object(hof.k)("val"),predicates.d),function(tuple){return new resolvable_Resolvable(tuple.token,tuple.val,(fn=tuple.val,$injector=coreservices.b.$injector,fn.$inject||$injector&&$injector.annotate(fn,$injector.strictDi)||"deferred"),tuple.policy);var fn,$injector}]]),item2Resolvable=Object(hof.i)([[Object(hof.e)(resolvable_Resolvable),function(r){return r}],[function(obj){return!(!obj.token||!obj.resolveFn)},literal2Resolvable],[function(obj){return!(!obj.provide&&!obj.token||!(obj.useValue||obj.useFactory||obj.useExisting||obj.useClass))},literal2Resolvable],[function(obj){return!!(obj&&obj.val&&(Object(predicates.l)(obj.val)||Object(predicates.a)(obj.val)||Object(predicates.d)(obj.val)))},tuple2Resolvable],[Object(hof.m)(!0),function(obj){throw new Error("Invalid resolve value: "+stringify(obj))}]]),decl=state.resolve;return(Object(predicates.a)(decl)?decl:(resolveObj=decl,resolvePolicies=state.resolvePolicy||{},Object.keys(resolveObj||{}).map(function(token){return{token:token,val:resolveObj[token],deps:void 0,policy:resolvePolicies[token]}}))).map(item2Resolvable)}var stateBuilder_StateBuilder=(StateBuilder.prototype.builder=function(name,fn){var builders=this.builders,array=builders[name]||[];return Object(predicates.l)(name)&&!Object(predicates.c)(fn)?1<array.length?array:array[0]:Object(predicates.l)(name)&&Object(predicates.d)(fn)?(builders[name]=array,builders[name].push(fn),function(){return builders[name].splice(builders[name].indexOf(fn,1))&&null}):void 0},StateBuilder.prototype.build=function(state){var matcher=this.matcher,builders=this.builders,parent=this.parentName(state);if(parent&&!matcher.find(parent,void 0,!1))return null;for(var key in builders)if(builders.hasOwnProperty(key)){var chain=builders[key].reduce(function(parentFn,step){return function(_state){return step(_state,parentFn)}},common.x);state[key]=chain(state)}return state},StateBuilder.prototype.parentName=function(state){var name=state.name||"",segments=name.split(".");if("**"===segments.pop()&&segments.pop(),segments.length){if(state.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+name+")");return segments.join(".")}return state.parent?Object(predicates.l)(state.parent)?state.parent:state.parent.name:""},StateBuilder.prototype.name=function(state){var name=state.name;if(-1!==name.indexOf(".")||!state.parent)return name;var parentName=Object(predicates.l)(state.parent)?state.parent:state.parent.name;return parentName?parentName+"."+name:name},StateBuilder);function StateBuilder(matcher,urlMatcherFactory){this.matcher=matcher;function root(){return matcher.find("")}function isRoot(state){return""===state.name}var paramFactory,self=this;this.builders={name:[nameBuilder],self:[selfBuilder],parent:[function(state){return isRoot(state)?null:matcher.find(self.parentName(state))||root()}],data:[dataBuilder],url:[getUrlBuilder(urlMatcherFactory,root)],navigable:[function(isRoot){return function(state){return!isRoot(state)&&state.url?state:state.parent?state.parent.navigable:null}}(isRoot)],params:[(paramFactory=urlMatcherFactory.paramFactory,function(state){var urlParams=state.url&&state.url.parameters({inherit:!1})||[],nonUrlParams=Object(common.L)(Object(common.v)(Object(common.y)(state.params||{},urlParams.map(Object(hof.k)("id"))),function(config,id){return paramFactory.fromConfig(id,null,state.self)}));return urlParams.concat(nonUrlParams).map(function(p){return[p.id,p]}).reduce(common.d,{})})],views:[],path:[pathBuilder],includes:[includesBuilder],resolvables:[resolvablesBuilder]}}var stateObject_StateObject=(StateObject.create=function(stateDecl){stateDecl=StateObject.isStateClass(stateDecl)?new stateDecl:stateDecl;var state=Object(common.t)(Object(common.t)(stateDecl,StateObject.prototype));return stateDecl.$$state=function(){return state},state.self=stateDecl,state.__stateObjectCache={nameGlob:Glob.fromString(state.name)},state},StateObject.prototype.is=function(ref){return this===ref||this.self===ref||this.fqn()===ref},StateObject.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var name=this.parent.fqn();return name?name+"."+this.name:this.name},StateObject.prototype.root=function(){return this.parent&&this.parent.root()||this},StateObject.prototype.parameters=function(opts){return((opts=Object(common.i)(opts,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(Object(common.L)(this.params)).filter(function(param){return!opts.matchingKeys||opts.matchingKeys.hasOwnProperty(param.id)})},StateObject.prototype.parameter=function(id,opts){return void 0===opts&&(opts={}),this.url&&this.url.parameter(id,opts)||Object(common.n)(Object(common.L)(this.params),Object(hof.l)("id",id))||opts.inherit&&this.parent&&this.parent.parameter(id)},StateObject.prototype.toString=function(){return this.fqn()},StateObject.isStateClass=function(stateDecl){return Object(predicates.d)(stateDecl)&&!0===stateDecl.__uiRouterState},StateObject.isState=function(obj){return Object(predicates.i)(obj.__stateObjectCache)},StateObject);function StateObject(config){return StateObject.create(config||{})}var stateMatcher_StateMatcher=(StateMatcher.prototype.isRelative=function(stateName){return 0===(stateName=stateName||"").indexOf(".")||0===stateName.indexOf("^")},StateMatcher.prototype.find=function(stateOrName,base,matchGlob){if(void 0===matchGlob&&(matchGlob=!0),stateOrName||""===stateOrName){var isStr=Object(predicates.l)(stateOrName),name=isStr?stateOrName:stateOrName.name;this.isRelative(name)&&(name=this.resolvePath(name,base));var state=this._states[name];if(state&&(isStr||!(isStr||state!==stateOrName&&state.self!==stateOrName)))return state;if(isStr&&matchGlob){var matches=Object(common.L)(this._states).filter(function(_state){return _state.__stateObjectCache.nameGlob&&_state.__stateObjectCache.nameGlob.matches(name)});return 1<matches.length&&safeConsole.error("stateMatcher.find: Found multiple matches for "+name+" using glob: ",matches.map(function(match){return match.name})),matches[0]}}},StateMatcher.prototype.resolvePath=function(name,base){if(!base)throw new Error("No reference point given for path '"+name+"'");for(var baseState=this.find(base),splitName=name.split("."),pathLength=splitName.length,i=0,current=baseState;i<pathLength;i++)if(""!==splitName[i]||0!==i){if("^"!==splitName[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+baseState.name+"'");current=current.parent}else current=baseState;var relName=splitName.slice(i).join(".");return current.name+(current.name&&relName?".":"")+relName},StateMatcher);function StateMatcher(_states){this._states=_states}var stateQueueManager_StateQueueManager=(StateQueueManager.prototype.dispose=function(){this.queue=[]},StateQueueManager.prototype.register=function(stateDecl){var queue=this.queue,state=stateObject_StateObject.create(stateDecl),name=state.name;if(!Object(predicates.l)(name))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(name)||Object(common.s)(queue.map(Object(hof.k)("name")),name))throw new Error("State '"+name+"' is already defined");return queue.push(state),this.flush(),state},StateQueueManager.prototype.flush=function(){for(var _this=this,queue=this.queue,states=this.states,builder=this.builder,registered=[],orphans=[],previousQueueLength={},getState=function(name){return _this.states.hasOwnProperty(name)&&_this.states[name]},notifyListeners=function(){registered.length&&_this.listeners.forEach(function(listener){return listener("registered",registered.map(function(s){return s.self}))})};0<queue.length;){var state=queue.shift(),name_1=state.name,result=builder.build(state),orphanIdx=orphans.indexOf(state);if(result){var existingState=getState(name_1);if(existingState&&existingState.name===name_1)throw new Error("State '"+name_1+"' is already defined");var existingFutureState=getState(name_1+".**");existingFutureState&&this.router.stateRegistry.deregister(existingFutureState),states[name_1]=state,this.attachRoute(state),0<=orphanIdx&&orphans.splice(orphanIdx,1),registered.push(state)}else{var prev=previousQueueLength[name_1];if(previousQueueLength[name_1]=queue.length,0<=orphanIdx&&prev===queue.length)return queue.push(state),notifyListeners(),states;orphanIdx<0&&orphans.push(state),queue.push(state)}}return notifyListeners(),states},StateQueueManager.prototype.attachRoute=function(state){if(!state.abstract&&state.url){var rulesApi=this.router.urlService.rules;rulesApi.rule(rulesApi.urlRuleFactory.create(state))}},StateQueueManager);function StateQueueManager(router,states,builder,listeners){this.router=router,this.states=states,this.builder=builder,this.listeners=listeners,this.queue=[]}var TransitionHookPhase,TransitionHookScope,stateRegistry_StateRegistry=(StateRegistry.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},StateRegistry.prototype.dispose=function(){var _this=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(state){return _this.get(state)&&_this.deregister(state)})},StateRegistry.prototype.onStatesChanged=function(listener){return this.listeners.push(listener),function(){Object(common.C)(this.listeners)(listener)}.bind(this)},StateRegistry.prototype.root=function(){return this._root},StateRegistry.prototype.register=function(stateDefinition){return this.stateQueue.register(stateDefinition)},StateRegistry.prototype._deregisterTree=function(state){var _this=this,all=this.get().map(function(s){return s.$$state()}),getChildren=function(states){var _children=all.filter(function(s){return-1!==states.indexOf(s.parent)});return 0===_children.length?_children:_children.concat(getChildren(_children))},children=getChildren([state]),deregistered=[state].concat(children).reverse();return deregistered.forEach(function(_state){var rulesApi=_this.router.urlService.rules;rulesApi.rules().filter(Object(hof.l)("state",_state)).forEach(function(rule){return rulesApi.removeRule(rule)}),delete _this.states[_state.name]}),deregistered},StateRegistry.prototype.deregister=function(stateOrName){var _state=this.get(stateOrName);if(!_state)throw new Error("Can't deregister state; not found: "+stateOrName);var deregisteredStates=this._deregisterTree(_state.$$state());return this.listeners.forEach(function(listener){return listener("deregistered",deregisteredStates.map(function(s){return s.self}))}),deregisteredStates},StateRegistry.prototype.get=function(stateOrName,base){var _this=this;if(0===arguments.length)return Object.keys(this.states).map(function(name){return _this.states[name].self});var found=this.matcher.find(stateOrName,base);return found&&found.self||null},StateRegistry.prototype.decorator=function(name,func){return this.builder.builder(name,func)},StateRegistry);function StateRegistry(router){this.router=router,this.states={},this.listeners=[],this.matcher=new stateMatcher_StateMatcher(this.states),this.builder=new stateBuilder_StateBuilder(this.matcher,router.urlMatcherFactory),this.stateQueue=new stateQueueManager_StateQueueManager(router,this.states,this.builder,this.listeners),this._registerRoot()}!function(TransitionHookPhase){TransitionHookPhase[TransitionHookPhase.CREATE=0]="CREATE",TransitionHookPhase[TransitionHookPhase.BEFORE=1]="BEFORE",TransitionHookPhase[TransitionHookPhase.RUN=2]="RUN",TransitionHookPhase[TransitionHookPhase.SUCCESS=3]="SUCCESS",TransitionHookPhase[TransitionHookPhase.ERROR=4]="ERROR"}(TransitionHookPhase=TransitionHookPhase||{}),function(TransitionHookScope){TransitionHookScope[TransitionHookScope.TRANSITION=0]="TRANSITION",TransitionHookScope[TransitionHookScope.STATE=1]="STATE"}(TransitionHookScope=TransitionHookScope||{});var defaultOptions={current:common.x,transition:null,traceData:{},bind:null},transitionHook_TransitionHook=(TransitionHook.chain=function(hooks,waitFor){return hooks.reduce(function(prev,nextHook){return prev.then(function(){return nextHook.invokeHook()})},waitFor||coreservices.b.$q.when())},TransitionHook.invokeHooks=function(hooks,doneCallback){for(var idx=0;idx<hooks.length;idx++){var hookResult=hooks[idx].invokeHook();if(Object(predicates.j)(hookResult)){var remainingHooks=hooks.slice(idx+1);return TransitionHook.chain(remainingHooks,hookResult).then(doneCallback)}}return doneCallback()},TransitionHook.runAllHooks=function(hooks){hooks.forEach(function(hook){return hook.invokeHook()})},TransitionHook.prototype.logError=function(err){this.transition.router.stateService.defaultErrorHandler()(err)},TransitionHook.prototype.invokeHook=function(){var _this=this,hook=this.registeredHook;if(!hook._deregistered){var notCurrent=this.getNotCurrentRejection();if(notCurrent)return notCurrent;var options=this.options;trace.traceHookInvocation(this,this.transition,options);var handleError=function(err){return hook.eventType.getErrorHandler(_this)(err)},handleResult=function(result){return hook.eventType.getResultHandler(_this)(result)};try{var result=hook.callback.call(options.bind,_this.transition,_this.stateContext);return!this.type.synchronous&&Object(predicates.j)(result)?result.catch(function(err){return rejectFactory_Rejection.normalize(err).toPromise()}).then(handleResult,handleError):handleResult(result)}catch(err){return handleError(rejectFactory_Rejection.normalize(err))}finally{hook.invokeLimit&&++hook.invokeCount>=hook.invokeLimit&&hook.deregister()}}},TransitionHook.prototype.handleHookResult=function(result){var _this=this,notCurrent=this.getNotCurrentRejection();return notCurrent||(Object(predicates.j)(result)?result.then(function(val){return _this.handleHookResult(val)}):(trace.traceHookResult(result,this.transition,this.options),!1===result?rejectFactory_Rejection.aborted("Hook aborted transition").toPromise():Object(hof.e)(targetState_TargetState)(result)?rejectFactory_Rejection.redirected(result).toPromise():void 0))},TransitionHook.prototype.getNotCurrentRejection=function(){var router=this.transition.router;return router._disposed?rejectFactory_Rejection.aborted("UIRouter instance #"+router.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?rejectFactory_Rejection.aborted().toPromise():this.isSuperseded()?rejectFactory_Rejection.superseded(this.options.current()).toPromise():void 0},TransitionHook.prototype.toString=function(){var options=this.options,registeredHook=this.registeredHook;return(Object(hof.h)("traceData.hookType")(options)||"internal")+" context: "+(Object(hof.h)("traceData.context.state.name")(options)||Object(hof.h)("traceData.context")(options)||"unknown")+", "+maxLength(200,fnToString(registeredHook.callback))},TransitionHook.HANDLE_RESULT=function(hook){return function(result){return hook.handleHookResult(result)}},TransitionHook.LOG_REJECTED_RESULT=function(hook){return function(result){Object(predicates.j)(result)&&result.catch(function(err){return hook.logError(rejectFactory_Rejection.normalize(err))})}},TransitionHook.LOG_ERROR=function(hook){return function(error){return hook.logError(error)}},TransitionHook.REJECT_ERROR=function(hook){return function(error){return Object(common.F)(error)}},TransitionHook.THROW_ERROR=function(hook){return function(error){throw error}},TransitionHook);function TransitionHook(transition,stateContext,registeredHook,options){var _this=this;this.transition=transition,this.stateContext=stateContext,this.registeredHook=registeredHook,this.options=options,this.isSuperseded=function(){return _this.type.hookPhase===TransitionHookPhase.RUN&&!_this.options.transition.isActive()},this.options=Object(common.i)(options,defaultOptions),this.type=registeredHook.eventType}function matchState(state,criterion,transition){var toMatch=Object(predicates.l)(criterion)?[criterion]:criterion;return!!(Object(predicates.d)(toMatch)?toMatch:function(_state){for(var globStrings=toMatch,i=0;i<globStrings.length;i++){var glob=new Glob(globStrings[i]);if(glob&&glob.matches(_state.name)||!glob&&globStrings[i]===_state.name)return!0}return!1})(state,transition)}var hookRegistry_RegisteredHook=(RegisteredHook.prototype._matchingNodes=function(nodes,criterion,transition){if(!0===criterion)return nodes;var matching=nodes.filter(function(node){return matchState(node.state,criterion,transition)});return matching.length?matching:null},RegisteredHook.prototype._getDefaultMatchCriteria=function(){return Object(common.v)(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},RegisteredHook.prototype._getMatchingNodes=function(treeChanges,transition){var _this=this,criteria=Object(common.l)(this._getDefaultMatchCriteria(),this.matchCriteria);return Object(common.L)(this.tranSvc._pluginapi._getPathTypes()).reduce(function(mn,pathtype){var isStateHook=pathtype.scope===TransitionHookScope.STATE,path=treeChanges[pathtype.name]||[],nodes=isStateHook?path:[Object(common.G)(path)];return mn[pathtype.name]=_this._matchingNodes(nodes,criteria[pathtype.name],transition),mn},{})},RegisteredHook.prototype.matches=function(treeChanges,transition){var matches=this._getMatchingNodes(treeChanges,transition);return Object(common.L)(matches).every(common.r)?matches:null},RegisteredHook.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},RegisteredHook);function RegisteredHook(tranSvc,eventType,callback,matchCriteria,removeHookFromRegistry,options){void 0===options&&(options={}),this.tranSvc=tranSvc,this.eventType=eventType,this.callback=callback,this.matchCriteria=matchCriteria,this.removeHookFromRegistry=removeHookFromRegistry,this.invokeCount=0,this._deregistered=!1,this.priority=options.priority||0,this.bind=options.bind||null,this.invokeLimit=options.invokeLimit}function makeEvent(registry,transitionService,eventType){var hooks=(registry._registeredHooks=registry._registeredHooks||{})[eventType.name]=[],removeHookFn=Object(common.C)(hooks);function hookRegistrationFn(matchObject,callback,options){void 0===options&&(options={});var registeredHook=new hookRegistry_RegisteredHook(transitionService,eventType,callback,matchObject,removeHookFn,options);return hooks.push(registeredHook),registeredHook.deregister.bind(registeredHook)}return registry[eventType.name]=hookRegistrationFn}var hookBuilder_HookBuilder=(HookBuilder.prototype.buildHooksForPhase=function(phase){var _this=this;return this.transition.router.transitionService._pluginapi._getEvents(phase).map(function(type){return _this.buildHooks(type)}).reduce(common.K,[]).filter(common.r)},HookBuilder.prototype.buildHooks=function(hookType){var transition=this.transition,treeChanges=transition.treeChanges(),matchingHooks=this.getMatchingHooks(hookType,treeChanges,transition);if(!matchingHooks)return[];var baseHookOptions={transition:transition,current:transition.options().current};return matchingHooks.map(function(hook){return hook.matches(treeChanges,transition)[hookType.criteriaMatchPath.name].map(function(node){var _options=Object(common.l)({bind:hook.bind,traceData:{hookType:hookType.name,context:node}},baseHookOptions),state=hookType.criteriaMatchPath.scope===TransitionHookScope.STATE?node.state.self:null,transitionHook=new transitionHook_TransitionHook(transition,state,hook,_options);return{hook:hook,node:node,transitionHook:transitionHook}})}).reduce(common.K,[]).sort(function(reverseDepthSort){return void 0===reverseDepthSort&&(reverseDepthSort=!1),function(l,r){var factor=reverseDepthSort?-1:1,depthDelta=(l.node.state.path.length-r.node.state.path.length)*factor;return 0!=depthDelta?depthDelta:r.hook.priority-l.hook.priority}}(hookType.reverseSort)).map(function(tuple){return tuple.transitionHook})},HookBuilder.prototype.getMatchingHooks=function(hookType,treeChanges,transition){var isCreate=hookType.hookPhase===TransitionHookPhase.CREATE,$transitions=this.transition.router.transitionService;return(isCreate?[$transitions]:[this.transition,$transitions]).map(function(reg){return reg.getHooks(hookType.name)}).filter(Object(common.f)(predicates.a,"broken event named: "+hookType.name)).reduce(common.K,[]).filter(function(hook){return hook.matches(treeChanges,transition)})},HookBuilder);function HookBuilder(transition){this.transition=transition}var stateSelf=Object(hof.k)("self"),transition_Transition=(Transition.prototype.onBefore=function(criteria,callback,options){},Transition.prototype.onStart=function(criteria,callback,options){},Transition.prototype.onExit=function(criteria,callback,options){},Transition.prototype.onRetain=function(criteria,callback,options){},Transition.prototype.onEnter=function(criteria,callback,options){},Transition.prototype.onFinish=function(criteria,callback,options){},Transition.prototype.onSuccess=function(criteria,callback,options){},Transition.prototype.onError=function(criteria,callback,options){},Transition.prototype.createTransitionHookRegFns=function(){var _this=this;this.router.transitionService._pluginapi._getEvents().filter(function(type){return type.hookPhase!==TransitionHookPhase.CREATE}).forEach(function(type){return makeEvent(_this,_this.router.transitionService,type)})},Transition.prototype.getHooks=function(hookName){return this._registeredHooks[hookName]},Transition.prototype.applyViewConfigs=function(router){var enteringStates=this._treeChanges.entering.map(function(node){return node.state});pathUtils_PathUtils.applyViewConfigs(router.transitionService.$view,this._treeChanges.to,enteringStates)},Transition.prototype.$from=function(){return Object(common.G)(this._treeChanges.from).state},Transition.prototype.$to=function(){return Object(common.G)(this._treeChanges.to).state},Transition.prototype.from=function(){return this.$from().self},Transition.prototype.to=function(){return this.$to().self},Transition.prototype.targetState=function(){return this._targetState},Transition.prototype.is=function(compare){return compare instanceof Transition?this.is({to:compare.$to().name,from:compare.$from().name}):!(compare.to&&!matchState(this.$to(),compare.to,this)||compare.from&&!matchState(this.$from(),compare.from,this))},Transition.prototype.params=function(pathname){return void 0===pathname&&(pathname="to"),Object.freeze(this._treeChanges[pathname].map(Object(hof.k)("paramValues")).reduce(common.w,{}))},Transition.prototype.paramsChanged=function(){var fromParams=this.params("from"),toParams=this.params("to"),allParamDescriptors=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(pathNode){return pathNode.paramSchema}).reduce(common.o,[]).reduce(common.I,[]);return param_Param.changed(allParamDescriptors,fromParams,toParams).reduce(function(changedValues,descriptor){return changedValues[descriptor.id]=toParams[descriptor.id],changedValues},{})},Transition.prototype.injector=function(state,pathName){void 0===pathName&&(pathName="to");var path=this._treeChanges[pathName];return state&&(path=pathUtils_PathUtils.subPath(path,function(node){return node.state===state||node.state.name===state})),new resolveContext_ResolveContext(path).injector()},Transition.prototype.getResolveTokens=function(pathname){return void 0===pathname&&(pathname="to"),new resolveContext_ResolveContext(this._treeChanges[pathname]).getTokens()},Transition.prototype.addResolvable=function(resolvable,state){void 0===state&&(state=""),resolvable=Object(hof.e)(resolvable_Resolvable)(resolvable)?resolvable:new resolvable_Resolvable(resolvable);var stateName="string"==typeof state?state:state.name,topath=this._treeChanges.to,targetNode=Object(common.n)(topath,function(node){return node.state.name===stateName});new resolveContext_ResolveContext(topath).addResolvables([resolvable],targetNode.state)},Transition.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},Transition.prototype.originalTransition=function(){var rf=this.redirectedFrom();return rf&&rf.originalTransition()||this},Transition.prototype.options=function(){return this._options},Transition.prototype.entering=function(){return Object(common.u)(this._treeChanges.entering,Object(hof.k)("state")).map(stateSelf)},Transition.prototype.exiting=function(){return Object(common.u)(this._treeChanges.exiting,Object(hof.k)("state")).map(stateSelf).reverse()},Transition.prototype.retained=function(){return Object(common.u)(this._treeChanges.retained,Object(hof.k)("state")).map(stateSelf)},Transition.prototype.views=function(pathname,state){void 0===pathname&&(pathname="entering");var path=this._treeChanges[pathname];return(path=state?path.filter(Object(hof.l)("state",state)):path).map(Object(hof.k)("views")).filter(common.r).reduce(common.K,[])},Transition.prototype.treeChanges=function(pathname){return pathname?this._treeChanges[pathname]:this._treeChanges},Transition.prototype.redirect=function(targetState){for(var redirects=1,trans=this;null!=(trans=trans.redirectedFrom());)if(20<++redirects)throw new Error("Too many consecutive Transition redirects (20+)");var redirectOpts={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==targetState.options().location&&(redirectOpts.location="replace");var newOptions=Object(common.l)({},this.options(),targetState.options(),redirectOpts);targetState=targetState.withOptions(newOptions,!0);var reloadState,newTransition=this.router.transitionService.create(this._treeChanges.from,targetState),originalEnteringNodes=this._treeChanges.entering,redirectEnteringNodes=newTransition._treeChanges.entering;return pathUtils_PathUtils.matching(redirectEnteringNodes,originalEnteringNodes,pathUtils_PathUtils.nonDynamicParams).filter(Object(hof.f)((reloadState=targetState.options().reloadState,function(node){return reloadState&&node.state.includes[reloadState.name]}))).forEach(function(node,idx){node.resolvables=originalEnteringNodes[idx].resolvables}),newTransition},Transition.prototype._changedParams=function(){var tc=this._treeChanges;if(!(this._options.reload||tc.exiting.length||tc.entering.length||tc.to.length!==tc.from.length||Object(common.e)(tc.to,tc.from).map(function(tuple){return tuple[0].state!==tuple[1].state}).reduce(common.c,!1))){var nodeSchemas=tc.to.map(function(node){return node.paramSchema}),_a=[tc.to,tc.from].map(function(path){return path.map(function(x){return x.paramValues})}),toValues=_a[0],fromValues=_a[1];return Object(common.e)(nodeSchemas,toValues,fromValues).map(function(_a){var schema=_a[0],toVals=_a[1],fromVals=_a[2];return param_Param.changed(schema,toVals,fromVals)}).reduce(common.K,[])}},Transition.prototype.dynamic=function(){var changes=this._changedParams();return!!changes&&changes.map(function(x){return x.dynamic}).reduce(common.c,!1)},Transition.prototype.ignored=function(){return!!this._ignoredReason()},Transition.prototype._ignoredReason=function(){function same(pathA,pathB){if(pathA.length===pathB.length){var matching=pathUtils_PathUtils.matching(pathA,pathB);return pathA.length===matching.filter(function(node){return!reloadState||!node.state.includes[reloadState.name]}).length}}var pending=this.router.globals.transition,reloadState=this._options.reloadState,newTC=this.treeChanges(),pendTC=pending&&pending.treeChanges();return pendTC&&same(pendTC.to,newTC.to)&&same(pendTC.exiting,newTC.exiting)?"SameAsPending":0===newTC.exiting.length&&0===newTC.entering.length&&same(newTC.from,newTC.to)?"SameAsCurrent":void 0},Transition.prototype.run=function(){function getHooksFor(phase){return _this._hookBuilder.buildHooksForPhase(phase)}var _this=this,runAllHooks=transitionHook_TransitionHook.runAllHooks,allBeforeHooks=getHooksFor(TransitionHookPhase.BEFORE);return transitionHook_TransitionHook.invokeHooks(allBeforeHooks,function(){var globals=_this.router.globals;return globals.lastStartedTransitionId=_this.$id,globals.transition=_this,globals.transitionHistory.enqueue(_this),trace.traceTransitionStart(_this),coreservices.b.$q.when(void 0)}).then(function(){var allRunHooks=getHooksFor(TransitionHookPhase.RUN);return transitionHook_TransitionHook.invokeHooks(allRunHooks,function(){return coreservices.b.$q.when(void 0)})}).then(function(){trace.traceSuccess(_this.$to(),_this),_this.success=!0,_this._deferred.resolve(_this.to()),runAllHooks(getHooksFor(TransitionHookPhase.SUCCESS))},function(reason){trace.traceError(reason,_this),_this.success=!1,_this._deferred.reject(reason),_this._error=reason,runAllHooks(getHooksFor(TransitionHookPhase.ERROR))}),this.promise},Transition.prototype.valid=function(){return!this.error()||void 0!==this.success},Transition.prototype.abort=function(){Object(predicates.m)(this.success)&&(this._aborted=!0)},Transition.prototype.error=function(){var state=this.$to();if(state.self.abstract)return rejectFactory_Rejection.invalid("Cannot transition to abstract state '"+state.name+"'");var paramDefs=state.parameters(),values=this.params(),invalidParams=paramDefs.filter(function(param){return!param.validates(values[param.id])});if(invalidParams.length){var invalidValues=invalidParams.map(function(param){return"["+param.id+":"+stringify(values[param.id])+"]"}).join(", "),detail="The following parameter values are not valid for state '"+state.name+"': "+invalidValues;return rejectFactory_Rejection.invalid(detail)}return!1===this.success?this._error:void 0},Transition.prototype.toString=function(){function avoidEmptyHash(params){return null!==params["#"]&&void 0!==params["#"]?params:Object(common.y)(params,["#"])}var fromStateOrName=this.from(),toStateOrName=this.to();return"Transition#"+this.$id+"( '"+(Object(predicates.i)(fromStateOrName)?fromStateOrName.name:fromStateOrName)+"'"+stringify(avoidEmptyHash(this._treeChanges.from.map(Object(hof.k)("paramValues")).reduce(common.w,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Object(predicates.i)(toStateOrName)?toStateOrName.name:toStateOrName)+"'"+stringify(avoidEmptyHash(this.params()))+" )"},Transition.diToken=Transition);function Transition(fromPath,targetState,router){var _this=this;if(this._deferred=coreservices.b.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new hookBuilder_HookBuilder(this),this.isActive=function(){return _this.router.globals.transition===_this},this.router=router,!(this._targetState=targetState).valid())throw new Error(targetState.error());this._options=Object(common.l)({current:Object(hof.m)(this)},targetState.options()),this.$id=router.transitionService._transitionCount++;var toPath=pathUtils_PathUtils.buildToPath(fromPath,targetState);this._treeChanges=pathUtils_PathUtils.treeChanges(fromPath,toPath,this._options.reloadState),this.createTransitionHookRegFns();var onCreateHooks=this._hookBuilder.buildHooksForPhase(TransitionHookPhase.CREATE);transitionHook_TransitionHook.invokeHooks(onCreateHooks,function(){return null}),this.applyViewConfigs(router)}function quoteRegExp(str,param){var surroundPattern=["",""],result=str.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!param)return result;switch(param.squash){case!1:surroundPattern=["(",")"+(param.isOptional?"?":"")];break;case!0:result=result.replace(/\/$/,""),surroundPattern=["(?:/(",")|/)?"];break;default:surroundPattern=["("+param.squash+"|",")?"]}return result+surroundPattern[0]+param.type.pattern.source+surroundPattern[1]}var re,splitOnSlash=(re=new RegExp("("+"/"+")","g"),function(str){return str.split(re).filter(common.r)}),urlMatcher_defaultConfig={state:{params:{}},strict:!0,caseInsensitive:!0},urlMatcher_UrlMatcher=(UrlMatcher.encodeDashes=function(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})},UrlMatcher.pathSegmentsAndParams=function(matcher){var staticSegments=matcher._segments,pathParams=matcher._params.filter(function(p){return p.location===DefType.PATH});return Object(common.e)(staticSegments,pathParams.concat(void 0)).reduce(common.K,[]).filter(function(x){return""!==x&&Object(predicates.c)(x)})},UrlMatcher.queryParams=function(matcher){return matcher._params.filter(function(p){return p.location===DefType.SEARCH})},UrlMatcher.compare=function(a,b){function weights(matcher){return matcher._cache.weights=matcher._cache.weights||function(matcher){return matcher._cache.segments=matcher._cache.segments||matcher._cache.path.map(UrlMatcher.pathSegmentsAndParams).reduce(common.K,[]).reduce(joinNeighborsR,[]).map(function(x){return Object(predicates.l)(x)?splitOnSlash(x):x}).reduce(common.K,[])}(matcher).map(function(segment){return"/"===segment?1:Object(predicates.l)(segment)?2:segment instanceof param_Param?3:void 0})}var weightsA=weights(a),weightsB=weights(b);!function(l,r,padVal){for(var len=Math.max(l.length,r.length);l.length<len;)l.push(padVal);for(;r.length<len;)r.push(padVal)}(weightsA,weightsB,0);var cmp,i,_pairs=Object(common.e)(weightsA,weightsB);for(i=0;i<_pairs.length;i++)if(0!=(cmp=_pairs[i][0]-_pairs[i][1]))return cmp;return 0},UrlMatcher.prototype.append=function(url){return this._children.push(url),url._cache={path:this._cache.path.concat(url),parent:this,pattern:null},url},UrlMatcher.prototype.isRoot=function(){return this._cache.path[0]===this},UrlMatcher.prototype.toString=function(){return this.pattern},UrlMatcher.prototype.exec=function(path,search,hash,options){var _this=this;void 0===search&&(search={}),void 0===options&&(options={});var obj,_prop,fn,match=(obj=this._cache,fn=function(){return new RegExp(["^",Object(common.J)(_this._cache.path.map(Object(hof.k)("_compiled"))).join(""),!1===_this.config.strict?"/?":"","$"].join(""),_this.config.caseInsensitive?"i":void 0)},(obj[_prop="pattern"]=obj[_prop]||fn()).exec(path));if(!match)return null;var allParams=this.parameters(),pathParams=allParams.filter(function(param){return!param.isSearch()}),searchParams=allParams.filter(function(param){return param.isSearch()}),nPathSegments=this._cache.path.map(function(urlm){return urlm._segments.length-1}).reduce(function(a,x){return a+x}),values={};if(nPathSegments!==match.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function decodePathArray(paramVal){function reverseString(str){return str.split("").reverse().join("")}var split=reverseString(paramVal).split(/-(?!\\)/),allReversed=Object(common.u)(split,reverseString);return Object(common.u)(allReversed,function(str){return str.replace(/\\-/g,"-")}).reverse()}for(var i=0;i<nPathSegments;i++){for(var param=pathParams[i],value=match[i+1],j=0;j<param.replace.length;j++)param.replace[j].from===value&&(value=param.replace[j].to);value&&!0===param.array&&(value=decodePathArray(value)),Object(predicates.c)(value)&&(value=param.type.decode(value)),values[param.id]=param.value(value)}return searchParams.forEach(function(param){for(var value=search[param.id],j=0;j<param.replace.length;j++)param.replace[j].from===value&&(value=param.replace[j].to);Object(predicates.c)(value)&&(value=param.type.decode(value)),values[param.id]=param.value(value)}),hash&&(values["#"]=hash),values},UrlMatcher.prototype.parameters=function(opts){return void 0===opts&&(opts={}),!1===opts.inherit?this._params:Object(common.J)(this._cache.path.map(function(matcher){return matcher._params}))},UrlMatcher.prototype.parameter=function(id,opts){var _this=this;void 0===opts&&(opts={});var parent=this._cache.parent;return function(){for(var _i=0,_a=_this._params;_i<_a.length;_i++){var param=_a[_i];if(param.id===id)return param}}()||!1!==opts.inherit&&parent&&parent.parameter(id,opts)||null},UrlMatcher.prototype.validates=function(params){return params=params||{},this.parameters().filter(function(paramDef){return params.hasOwnProperty(paramDef.id)}).map(function(paramDef){return val=params[(param=paramDef).id],!param||param.validates(val);var param,val}).reduce(common.a,!0)},UrlMatcher.prototype.format=function(values){void 0===values&&(values={});var urlMatchers=this._cache.path,pathSegmentsAndParams=urlMatchers.map(UrlMatcher.pathSegmentsAndParams).reduce(common.K,[]).map(function(x){return Object(predicates.l)(x)?x:getDetails(x)}),queryParams=urlMatchers.map(UrlMatcher.queryParams).reduce(common.K,[]).map(getDetails);if(pathSegmentsAndParams.concat(queryParams).filter(function(param){return!1===param.isValid}).length)return null;function getDetails(param){var value=param.value(values[param.id]),isValid=param.validates(value),isDefaultValue=param.isDefaultValue(value),squash=!!isDefaultValue&&param.squash,encoded=param.type.encode(value);return{param:param,value:value,isValid:isValid,isDefaultValue:isDefaultValue,squash:squash,encoded:encoded}}var pathString=pathSegmentsAndParams.reduce(function(acc,x){if(Object(predicates.l)(x))return acc+x;var squash=x.squash,encoded=x.encoded,param=x.param;return!0===squash?acc.match(/\/$/)?acc.slice(0,-1):acc:Object(predicates.l)(squash)?acc+squash:!1!==squash||null==encoded?acc:Object(predicates.a)(encoded)?acc+Object(common.u)(encoded,UrlMatcher.encodeDashes).join("-"):param.raw?acc+encoded:acc+encodeURIComponent(encoded)},""),queryString=queryParams.map(function(paramDetails){var param=paramDetails.param,squash=paramDetails.squash,encoded=paramDetails.encoded,isDefaultValue=paramDetails.isDefaultValue;if(!(null==encoded||isDefaultValue&&!1!==squash)&&(Object(predicates.a)(encoded)||(encoded=[encoded]),0!==encoded.length))return param.raw||(encoded=Object(common.u)(encoded,encodeURIComponent)),encoded.map(function(val){return param.id+"="+val})}).filter(common.r).reduce(common.K,[]).join("&");return pathString+(queryString?"?"+queryString:"")+(values["#"]?"#"+values["#"]:"")},UrlMatcher.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,UrlMatcher);function UrlMatcher(pattern,paramTypes,paramFactory,config){var _this=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=config=Object(common.i)(config,urlMatcher_defaultConfig),this.pattern=pattern;for(var matchArray,details,segment,placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,patterns=[],last=0,checkParamErrors=function(id){if(!UrlMatcher.nameValidator.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(Object(common.n)(_this._params,Object(hof.l)("id",id)))throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'")},matchDetails=function(m,isSearch){var str,id=m[2]||m[3],regexp=isSearch?m[4]:m[4]||("*"===m[1]?"[\\s\\S]*":null);return{id:id,regexp:regexp,segment:pattern.substring(last,m.index),type:regexp?paramTypes.type(regexp)||(str=regexp,Object(common.t)(paramTypes.type(isSearch?"query":"path"),{pattern:new RegExp(str,_this.config.caseInsensitive?"i":void 0)})):null}};(matchArray=placeholder.exec(pattern))&&!(0<=(details=matchDetails(matchArray,!1)).segment.indexOf("?"));)checkParamErrors(details.id),this._params.push(paramFactory.fromPath(details.id,details.type,config.state)),this._segments.push(details.segment),patterns.push([details.segment,Object(common.G)(this._params)]),last=placeholder.lastIndex;var i=(segment=pattern.substring(last)).indexOf("?");if(0<=i){var search=segment.substring(i);if(segment=segment.substring(0,i),0<search.length)for(last=0;matchArray=searchPlaceholder.exec(search);)checkParamErrors((details=matchDetails(matchArray,!0)).id),this._params.push(paramFactory.fromSearch(details.id,details.type,config.state)),last=placeholder.lastIndex}this._segments.push(segment),this._compiled=patterns.map(function(_pattern){return quoteRegExp.apply(null,_pattern)}).concat(quoteRegExp(segment))}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},urlMatcherFactory_ParamFactory=(ParamFactory.prototype.fromConfig=function(id,type,state){return new param_Param(id,type,DefType.CONFIG,this.router.urlService.config,state)},ParamFactory.prototype.fromPath=function(id,type,state){return new param_Param(id,type,DefType.PATH,this.router.urlService.config,state)},ParamFactory.prototype.fromSearch=function(id,type,state){return new param_Param(id,type,DefType.SEARCH,this.router.urlService.config,state)},ParamFactory);function ParamFactory(router){this.router=router}var urlMatcherFactory_UrlMatcherFactory=(UrlMatcherFactory.prototype.compile=function(pattern,config){var urlConfig=this.router.urlService.config,params=config&&!config.state&&config.params;config=params?__assign({state:{params:params}},config):config;var globalConfig={strict:urlConfig._isStrictMode,caseInsensitive:urlConfig._isCaseInsensitive};return new urlMatcher_UrlMatcher(pattern,urlConfig.paramTypes,this.paramFactory,Object(common.l)(globalConfig,config))},UrlMatcherFactory.prototype.isMatcher=function(object){if(!Object(predicates.i)(object))return!1;var result=!0;return Object(common.p)(urlMatcher_UrlMatcher.prototype,function(val,name){Object(predicates.d)(val)&&(result=result&&Object(predicates.c)(object[name])&&Object(predicates.d)(object[name]))}),result},UrlMatcherFactory.prototype.$get=function(){var urlConfig=this.router.urlService.config;return urlConfig.paramTypes.enqueue=!1,urlConfig.paramTypes._flushTypeQueue(),this},UrlMatcherFactory);function UrlMatcherFactory(router){var _this=this;this.router=router,this.paramFactory=new urlMatcherFactory_ParamFactory(this.router),this.caseInsensitive=function(value){return _this.router.urlService.config.caseInsensitive(value)},this.defaultSquashPolicy=function(value){return _this.router.urlService.config.defaultSquashPolicy(value)},this.strictMode=function(value){return _this.router.urlService.config.strictMode(value)},this.type=function(name,definition,definitionFn){return _this.router.urlService.config.type(name,definition,definitionFn)||_this},Object(common.l)(this,{UrlMatcher:urlMatcher_UrlMatcher,Param:param_Param})}var urlRule_UrlRuleFactory=(UrlRuleFactory.prototype.compile=function(str){return this.router.urlMatcherFactory.compile(str)},UrlRuleFactory.prototype.create=function(what,handler){var _this=this,isState=stateObject_StateObject.isState,makeRule=Object(hof.i)([[predicates.l,function(_what){return makeRule(_this.compile(_what))}],[Object(hof.e)(urlMatcher_UrlMatcher),function(_what){return _this.fromUrlMatcher(_what,handler)}],[isState,function(_what){return _this.fromState(_what,_this.router)}],[Object(hof.e)(RegExp),function(_what){return _this.fromRegExp(_what,handler)}],[predicates.d,function(_what){return new urlRule_BaseUrlRule(_what,handler)}]]),rule=makeRule(what);if(!rule)throw new Error("invalid 'what' in when()");return rule},UrlRuleFactory.prototype.fromUrlMatcher=function(urlMatcher,handler){var _handler=handler;Object(predicates.l)(handler)&&(handler=this.router.urlMatcherFactory.compile(handler)),Object(hof.e)(urlMatcher_UrlMatcher)(handler)&&(_handler=function(match){return handler.format(match)});var details={urlMatcher:urlMatcher,matchPriority:function(params){var optional=urlMatcher.parameters().filter(function(param){return param.isOptional});return optional.length?optional.filter(function(param){return params[param.id]}).length/optional.length:1e-6},type:"URLMATCHER"};return Object(common.l)(new urlRule_BaseUrlRule(function(url){var params=urlMatcher.exec(url.path,url.search,url.hash);return urlMatcher.validates(params)&&params},_handler),details)},UrlRuleFactory.prototype.fromState=function(state,router){var details={state:state,type:"STATE"};return Object(common.l)(this.fromUrlMatcher(state.url,function(match){var $state=router.stateService,globals=router.globals;$state.href(state,match)!==$state.href(globals.current,globals.params)&&$state.transitionTo(state,match,{inherit:!0,source:"url"})}),details)},UrlRuleFactory.prototype.fromRegExp=function(regexp,handler){if(regexp.global||regexp.sticky)throw new Error("Rule RegExp must not be global or sticky");var _handler=Object(predicates.l)(handler)?function(match){return handler.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}:handler,details={regexp:regexp,type:"REGEXP"};return Object(common.l)(new urlRule_BaseUrlRule(function(url){return regexp.exec(url.path)},_handler),details)},UrlRuleFactory.isUrlRule=function(obj){return obj&&["type","match","handler"].every(function(key){return Object(predicates.c)(obj[key])})},UrlRuleFactory);function UrlRuleFactory(router){this.router=router}var urlRule_BaseUrlRule=function(match,handler){var _this=this;this.match=match,this.type="RAW",this.matchPriority=function(match){return 0-_this.$id},this.handler=handler||common.r};var urlRouter_UrlRouter=(UrlRouter.prototype.update=function(read){var $url=this.router.locationService;read?this.location=$url.url():$url.url()!==this.location&&$url.url(this.location,!0)},UrlRouter.prototype.push=function(urlMatcher,params,options){var replace=options&&!!options.replace;this.router.urlService.url(urlMatcher.format(params||{}),replace)},UrlRouter.prototype.href=function(urlMatcher,params,options){var url=urlMatcher.format(params);if(null==url)return null;options=options||{absolute:!1};var cfg=this.router.urlService.config,isHtml5=cfg.html5Mode();if(isHtml5||null===url||(url="#"+cfg.hashPrefix()+url),url=function(url,isHtml5,absolute,baseHref){return"/"===baseHref?url:isHtml5?stripLastPathElement(baseHref)+url:absolute?baseHref.slice(1)+url:url}(url,isHtml5,options.absolute,cfg.baseHref()),!options.absolute||!url)return url;var slash=!isHtml5&&url?"/":"",cfgPort=cfg.port(),port=80===cfgPort||443===cfgPort?"":":"+cfgPort;return[cfg.protocol(),"://",cfg.host(),port,slash,url].join("")},Object.defineProperty(UrlRouter.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0}),UrlRouter);function UrlRouter(router){var _this=this;this.router=router,this.sync=function(evt){return _this.router.urlService.sync(evt)},this.listen=function(enabled){return _this.router.urlService.listen(enabled)},this.deferIntercept=function(defer){return _this.router.urlService.deferIntercept(defer)},this.match=function(urlParts){return _this.router.urlService.match(urlParts)},this.initial=function(handler){return _this.router.urlService.rules.initial(handler)},this.otherwise=function(handler){return _this.router.urlService.rules.otherwise(handler)},this.removeRule=function(rule){return _this.router.urlService.rules.removeRule(rule)},this.rule=function(rule){return _this.router.urlService.rules.rule(rule)},this.rules=function(){return _this.router.urlService.rules.rules()},this.sort=function(compareFn){return _this.router.urlService.rules.sort(compareFn)},this.when=function(matcher,handler,options){return _this.router.urlService.rules.when(matcher,handler,options)},this.urlRuleFactory=new urlRule_UrlRuleFactory(router)}var view_ViewService=(ViewService.normalizeUIViewTarget=function(context,rawViewName){void 0===rawViewName&&(rawViewName="");var viewAtContext=rawViewName.split("@"),uiViewName=viewAtContext[0]||"$default",uiViewContextAnchor=Object(predicates.l)(viewAtContext[1])?viewAtContext[1]:"^",relativeViewNameSugar=/^(\^(?:\.\^)*)\.(.*$)/.exec(uiViewName);return relativeViewNameSugar&&(uiViewContextAnchor=relativeViewNameSugar[1],uiViewName=relativeViewNameSugar[2]),"!"===uiViewName.charAt(0)&&(uiViewName=uiViewName.substr(1),uiViewContextAnchor=""),/^(\^(?:\.\^)*)$/.exec(uiViewContextAnchor)?uiViewContextAnchor=uiViewContextAnchor.split(".").reduce(function(anchor,x){return anchor.parent},context).name:"."===uiViewContextAnchor&&(uiViewContextAnchor=context.name),{uiViewName:uiViewName,uiViewContextAnchor:uiViewContextAnchor}},ViewService.prototype._rootViewContext=function(context){return this._rootContext=context||this._rootContext},ViewService.prototype._viewConfigFactory=function(viewType,factory){this._viewConfigFactories[viewType]=factory},ViewService.prototype.createViewConfig=function(path,decl){var cfgFactory=this._viewConfigFactories[decl.$type];if(!cfgFactory)throw new Error("ViewService: No view config factory registered for type "+decl.$type);var cfgs=cfgFactory(path,decl);return Object(predicates.a)(cfgs)?cfgs:[cfgs]},ViewService.prototype.deactivateViewConfig=function(viewConfig){trace.traceViewServiceEvent("<- Removing",viewConfig),Object(common.C)(this._viewConfigs,viewConfig)},ViewService.prototype.activateViewConfig=function(viewConfig){trace.traceViewServiceEvent("-> Registering",viewConfig),this._viewConfigs.push(viewConfig)},ViewService.prototype.sync=function(){var _this=this,uiViewsByFqn=this._uiViews.map(function(uiv){return[uiv.fqn,uiv]}).reduce(common.d,{});function viewConfigDepth(config){for(var context=config.viewDecl.$context,count=0;++count&&context.parent;)context=context.parent;return count}var depthCompare=Object(hof.d)(function(depthFn,posNeg,left,right){return posNeg*(depthFn(left)-depthFn(right))}),uiViewTuples=this._uiViews.sort(depthCompare(function(uiView){var stateDepth=function(context){return context&&context.parent?stateDepth(context.parent)+1:1};return 1e4*uiView.fqn.split(".").length+stateDepth(uiView.creationContext)},1)).map(function(uiView){var matchingConfigs=_this._viewConfigs.filter(ViewService.matches(uiViewsByFqn,uiView));return 1<matchingConfigs.length&&matchingConfigs.sort(depthCompare(viewConfigDepth,-1)),{uiView:uiView,viewConfig:matchingConfigs[0]}}),matchedViewConfigs=uiViewTuples.map(function(tuple){return tuple.viewConfig}),unmatchedConfigTuples=this._viewConfigs.filter(function(config){return!Object(common.s)(matchedViewConfigs,config)}).map(function(viewConfig){return{uiView:void 0,viewConfig:viewConfig}});uiViewTuples.forEach(function(tuple){-1!==_this._uiViews.indexOf(tuple.uiView)&&tuple.uiView.configUpdated(tuple.viewConfig)});var allTuples=uiViewTuples.concat(unmatchedConfigTuples);this._listeners.forEach(function(cb){return cb(allTuples)}),trace.traceViewSync(allTuples)},ViewService.prototype.registerUIView=function(uiView){trace.traceViewServiceUIViewEvent("-> Registering",uiView);var uiViews=this._uiViews;return uiViews.filter(function(uiv){return uiv.fqn===uiView.fqn&&uiv.$type===uiView.$type}).length&&trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",uiView),uiViews.push(uiView),this.sync(),function(){-1!==uiViews.indexOf(uiView)?(trace.traceViewServiceUIViewEvent("<- Deregistering",uiView),Object(common.C)(uiViews)(uiView)):trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",uiView)}},ViewService.prototype.available=function(){return this._uiViews.map(Object(hof.k)("fqn"))},ViewService.prototype.active=function(){return this._uiViews.filter(Object(hof.k)("$config")).map(Object(hof.k)("name"))},ViewService.matches=function(uiViewsByFqn,uiView){return function(viewConfig){if(uiView.$type!==viewConfig.viewDecl.$type)return!1;var vc=viewConfig.viewDecl,vcSegments=vc.$uiViewName.split("."),uivSegments=uiView.fqn.split(".");if(!Object(common.k)(vcSegments,uivSegments.slice(0-vcSegments.length)))return!1;var negOffset=1-vcSegments.length||void 0,fqnToFirstSegment=uivSegments.slice(0,negOffset).join("."),uiViewContext=uiViewsByFqn[fqnToFirstSegment].creationContext;return vc.$uiViewContextAnchor===(uiViewContext&&uiViewContext.name)}},ViewService);function ViewService(router){var _this=this;this.router=router,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(id){return Object(common.n)(_this._uiViews,function(view){return _this.router.$id+"."+view.id===id})},_registeredUIViews:function(){return _this._uiViews},_activeViewConfigs:function(){return _this._viewConfigs},_onSync:function(listener){return _this._listeners.push(listener),function(){return Object(common.C)(_this._listeners,listener)}}}}var globals_UIRouterGlobals=(UIRouterGlobals.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},UIRouterGlobals);function UIRouterGlobals(){this.params=new stateParams_StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new queue_Queue([],1),this.successfulTransitions=new queue_Queue([],1)}var defaultRuleSortFn;function getHandlerFn(handler){if(!(Object(predicates.d)(handler)||Object(predicates.l)(handler)||Object(hof.e)(targetState_TargetState)(handler)||targetState_TargetState.isDef(handler)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Object(predicates.d)(handler)?handler:Object(hof.m)(handler)}defaultRuleSortFn=function(a,b){var cmp=function(a,b){return(b.priority||0)-(a.priority||0)}(a,b);return 0!==cmp||0!==(cmp=function(a,b){var weights={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(weights[a.type]||0)-(weights[b.type]||0)}(a,b))||0!==(cmp=function(a,b){return a.urlMatcher&&b.urlMatcher?urlMatcher_UrlMatcher.compare(a.urlMatcher,b.urlMatcher):0}(a,b))?cmp:function(a,b){var useMatchPriority={STATE:!0,URLMATCHER:!0};return useMatchPriority[a.type]&&useMatchPriority[b.type]?0:(a.$id||0)-(b.$id||0)}(a,b)};var urlRules_UrlRules=(UrlRules.prototype.dispose=function(router){this._rules=[],delete this._otherwiseFn},UrlRules.prototype.initial=function(handler){var handlerFn=getHandlerFn(handler);this.rule(this.urlRuleFactory.create(function(urlParts,router){return 0===router.globals.transitionHistory.size()&&!!/^\/?$/.exec(urlParts.path)},handlerFn))},UrlRules.prototype.otherwise=function(handler){var handlerFn=getHandlerFn(handler);this._otherwiseFn=this.urlRuleFactory.create(Object(hof.m)(!0),handlerFn),this._sorted=!1},UrlRules.prototype.removeRule=function(rule){Object(common.C)(this._rules,rule)},UrlRules.prototype.rule=function(rule){var _this=this;if(!urlRule_UrlRuleFactory.isUrlRule(rule))throw new Error("invalid rule");return rule.$id=this._id++,rule.priority=rule.priority||0,this._rules.push(rule),this._sorted=!1,function(){return _this.removeRule(rule)}},UrlRules.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},UrlRules.prototype.sort=function(compareFn){for(var sorted=this.stableSort(this._rules,this._sortFn=compareFn||this._sortFn),group=0,i=0;i<sorted.length;i++)sorted[i]._group=group,i<sorted.length-1&&0!==this._sortFn(sorted[i],sorted[i+1])&&group++;this._rules=sorted,this._sorted=!0},UrlRules.prototype.ensureSorted=function(){this._sorted||this.sort()},UrlRules.prototype.stableSort=function(arr,compareFn){var arrOfWrapper=arr.map(function(elem,idx){return{elem:elem,idx:idx}});return arrOfWrapper.sort(function(wrapperA,wrapperB){var cmpDiff=compareFn(wrapperA.elem,wrapperB.elem);return 0===cmpDiff?wrapperA.idx-wrapperB.idx:cmpDiff}),arrOfWrapper.map(function(wrapper){return wrapper.elem})},UrlRules.prototype.when=function(matcher,handler,options){var rule=this.urlRuleFactory.create(matcher,handler);return Object(predicates.c)(options&&options.priority)&&(rule.priority=options.priority),this.rule(rule),rule},UrlRules);function UrlRules(router){this.router=router,this._sortFn=defaultRuleSortFn,this._rules=[],this._id=0,this.urlRuleFactory=new urlRule_UrlRuleFactory(router)}var urlConfig_UrlConfig=(UrlConfig.prototype.caseInsensitive=function(value){return this._isCaseInsensitive=Object(predicates.c)(value)?value:this._isCaseInsensitive},UrlConfig.prototype.defaultSquashPolicy=function(value){if(Object(predicates.c)(value)&&!0!==value&&!1!==value&&!Object(predicates.l)(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Object(predicates.c)(value)?value:this._defaultSquashPolicy},UrlConfig.prototype.strictMode=function(value){return this._isStrictMode=Object(predicates.c)(value)?value:this._isStrictMode},UrlConfig.prototype.type=function(name,definition,definitionFn){var type=this.paramTypes.type(name,definition,definitionFn);return Object(predicates.c)(definition)?this:type},UrlConfig);function UrlConfig(router){var _this=this;this.router=router,this.paramTypes=new paramTypes_ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return _this.paramTypes.dispose()},this.baseHref=function(){return _this.router.locationConfig.baseHref()},this.hashPrefix=function(newprefix){return _this.router.locationConfig.hashPrefix(newprefix)},this.host=function(){return _this.router.locationConfig.host()},this.html5Mode=function(){return _this.router.locationConfig.html5Mode()},this.port=function(){return _this.router.locationConfig.port()},this.protocol=function(){return _this.router.locationConfig.protocol()}}var urlService_UrlService=(UrlService.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},UrlService.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},UrlService.prototype.sync=function(evt){if(!evt||!evt.defaultPrevented){var _a=this.router,urlService=_a.urlService,stateService=_a.stateService,url={path:urlService.path(),search:urlService.search(),hash:urlService.hash()},best=this.match(url);Object(hof.i)([[predicates.l,function(newurl){return urlService.url(newurl,!0)}],[targetState_TargetState.isDef,function(def){return stateService.go(def.state,def.params,def.options)}],[Object(hof.e)(targetState_TargetState),function(target){return stateService.go(target.state(),target.params(),target.options())}]])(best&&best.rule.handler(best.match,url,this.router))}},UrlService.prototype.listen=function(enabled){var _this=this;if(!1!==enabled)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(evt){return _this.sync(evt)});this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},UrlService.prototype.deferIntercept=function(defer){void 0===defer&&(defer=!0),this.interceptDeferred=defer},UrlService.prototype.match=function(url){var _this=this;url=Object(common.l)({path:"",search:{},hash:""},url);for(var best,rule,match,rules=this.rules.rules(),i=0;i<rules.length&&(!best||best.rule._group===rules[i]._group);i++){var current=(rule=rules[i],(match=rule.match(url,_this.router))&&{match:match,rule:rule,weight:rule.matchPriority(match)});best=!best||current&&current.weight>best.weight?current:best}return best},UrlService);function UrlService(router){var _this=this;this.router=router,this.interceptDeferred=!1,this.rules=new urlRules_UrlRules(this.router),this.config=new urlConfig_UrlConfig(this.router),this.url=function(newurl,replace,state){return _this.router.locationService.url(newurl,replace,state)},this.path=function(){return _this.router.locationService.path()},this.search=function(){return _this.router.locationService.search()},this.hash=function(){return _this.router.locationService.hash()},this.onChange=function(callback){return _this.router.locationService.onChange(callback)}}var _routerInstance=0,locationServiceStub=Object(coreservices.a)("LocationServices",["url","path","search","hash","onChange"]),locationConfigStub=Object(coreservices.a)("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),router_UIRouter=(UIRouter.prototype.disposable=function(disposable){this._disposables.push(disposable)},UIRouter.prototype.dispose=function(disposable){var _this=this;disposable&&Object(predicates.d)(disposable.dispose)?disposable.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(d){try{"function"==typeof d.dispose&&d.dispose(_this),Object(common.C)(_this._disposables,d)}catch(ignored){}}))},UIRouter.prototype.plugin=function(plugin,options){void 0===options&&(options={});var pluginInstance=new plugin(this,options);if(!pluginInstance.name)throw new Error("Required property `name` missing on plugin: "+pluginInstance);return this._disposables.push(pluginInstance),this._plugins[pluginInstance.name]=pluginInstance},UIRouter.prototype.getPlugin=function(pluginName){return pluginName?this._plugins[pluginName]:Object(common.L)(this._plugins)},UIRouter);function UIRouter(locationService,locationConfig){void 0===locationService&&(locationService=locationServiceStub),void 0===locationConfig&&(locationConfig=locationConfigStub),this.locationService=locationService,this.locationConfig=locationConfig,this.$id=_routerInstance++,this._disposed=!1,this._disposables=[],this.trace=trace,this.viewService=new view_ViewService(this),this.globals=new globals_UIRouterGlobals,this.transitionService=new transitionService_TransitionService(this),this.urlMatcherFactory=new urlMatcherFactory_UrlMatcherFactory(this),this.urlRouter=new urlRouter_UrlRouter(this),this.urlService=new urlService_UrlService(this),this.stateRegistry=new stateRegistry_StateRegistry(this),this.stateService=new stateService_StateService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(locationService),this.disposable(locationConfig)}function addCoreResolvables(trans){trans.addResolvable(resolvable_Resolvable.fromData(router_UIRouter,trans.router),""),trans.addResolvable(resolvable_Resolvable.fromData(transition_Transition,trans),""),trans.addResolvable(resolvable_Resolvable.fromData("$transition$",trans),""),trans.addResolvable(resolvable_Resolvable.fromData("$stateParams",trans.params()),""),trans.entering().forEach(function(state){trans.addResolvable(resolvable_Resolvable.fromData("$state$",state),state)})}function treeChangesCleanup(trans){function replaceTransitionWithNull(r){return isTransition(r.token)?resolvable_Resolvable.fromData(r.token,null):r}Object(common.L)(trans.treeChanges()).reduce(common.K,[]).reduce(common.I,[]).forEach(function(node){node.resolvables=node.resolvables.map(replaceTransitionWithNull)})}function redirectToHook(trans){var redirect=trans.to().redirectTo;if(redirect){var $state=trans.router.stateService;return Object(predicates.d)(redirect)?coreservices.b.$q.when(redirect(trans)).then(handleResult):handleResult(redirect)}function handleResult(result){if(result)return result instanceof targetState_TargetState?result:Object(predicates.l)(result)?$state.target(result,trans.params(),trans.options()):result.state||result.params?$state.target(result.state||trans.to(),result.params||trans.params(),trans.options()):void 0}}var TRANSITION_TOKENS=["$transition$",transition_Transition],isTransition=Object(common.s)(TRANSITION_TOKENS);function makeEnterExitRetainHook(hookName){return function(transition,state){return(0,state.$$state()[hookName])(transition,state)}}function eagerResolvePath(trans){return new resolveContext_ResolveContext(trans.treeChanges().to).resolvePath("EAGER",trans).then(common.x)}function lazyResolveState(trans,state){return new resolveContext_ResolveContext(trans.treeChanges().to).subContext(state.$$state()).resolvePath("LAZY",trans).then(common.x)}function resolveRemaining(trans){return new resolveContext_ResolveContext(trans.treeChanges().to).resolvePath("LAZY",trans).then(common.x)}function loadEnteringViews(transition){var $q=coreservices.b.$q,enteringViews=transition.views("entering");if(enteringViews.length)return $q.all(enteringViews.map(function(view){return $q.when(view.load())})).then(common.x)}function activateViews(transition){var enteringViews=transition.views("entering"),exitingViews=transition.views("exiting");if(enteringViews.length||exitingViews.length){var $view=transition.router.viewService;exitingViews.forEach(function(vc){return $view.deactivateViewConfig(vc)}),enteringViews.forEach(function(vc){return $view.activateViewConfig(vc)}),$view.sync()}}function updateGlobalState(trans){function clearCurrentTransition(){globals.transition===trans&&(globals.transition=null)}var globals=trans.router.globals;trans.onSuccess({},function(){globals.successfulTransitions.enqueue(trans),globals.$current=trans.$to(),globals.current=globals.$current.self,Object(common.g)(trans.params(),globals.params)},{priority:1e4}),trans.promise.then(clearCurrentTransition,clearCurrentTransition)}function updateUrl(transition){var options=transition.options(),$state=transition.router.stateService,$urlRouter=transition.router.urlRouter;if("url"!==options.source&&options.location&&$state.$current.navigable){var urlOptions={replace:"replace"===options.location};$urlRouter.push($state.$current.navigable.url,$state.params,urlOptions)}$urlRouter.update(!0)}function lazyLoadHook(transition){var router=transition.router,promises=transition.entering().filter(function(state){return!!state.$$state().lazyLoad}).map(function(state){return lazyLoadState(transition,state)});return coreservices.b.$q.all(promises).then(function(){if("url"!==transition.originalTransition().options().source){var orig=transition.targetState();return router.stateService.target(orig.identifier(),orig.params(),orig.options())}var $url=router.urlService,result=$url.match($url.parts()),rule=result&&result.rule;if(rule&&"STATE"===rule.type){var state=rule.state,params=result.match;return router.stateService.target(state,params,transition.options())}router.urlService.sync()})}var onExitHook=makeEnterExitRetainHook("onExit"),onRetainHook=makeEnterExitRetainHook("onRetain"),onEnterHook=makeEnterExitRetainHook("onEnter");function lazyLoadState(transition,state){var lazyLoadFn=state.$$state().lazyLoad,promise=lazyLoadFn._promise;if(!promise){promise=lazyLoadFn._promise=coreservices.b.$q.when(lazyLoadFn(transition,state)).then(function(result){result&&Array.isArray(result.states)&&result.states.forEach(function(_state){return transition.router.stateRegistry.register(_state)});return result}).then(function(result){return delete state.lazyLoad,delete state.$$state().lazyLoad,delete lazyLoadFn._promise,result},function(err){return delete lazyLoadFn._promise,coreservices.b.$q.reject(err)})}return promise}var transitionEventType_TransitionEventType=function(name,hookPhase,hookOrder,criteriaMatchPath,reverseSort,getResultHandler,getErrorHandler,synchronous){void 0===reverseSort&&(reverseSort=!1),void 0===getResultHandler&&(getResultHandler=transitionHook_TransitionHook.HANDLE_RESULT),void 0===getErrorHandler&&(getErrorHandler=transitionHook_TransitionHook.REJECT_ERROR),void 0===synchronous&&(synchronous=!1),this.name=name,this.hookPhase=hookPhase,this.hookOrder=hookOrder,this.criteriaMatchPath=criteriaMatchPath,this.reverseSort=reverseSort,this.getResultHandler=getResultHandler,this.getErrorHandler=getErrorHandler,this.synchronous=synchronous};function ignoredHook(trans){var ignoredReason=trans._ignoredReason();if(ignoredReason){trace.traceTransitionIgnored(trans);var pending=trans.router.globals.transition;return"SameAsCurrent"===ignoredReason&&pending&&pending.abort(),rejectFactory_Rejection.ignored().toPromise()}}function invalidTransitionHook(trans){if(!trans.valid())throw new Error(trans.error().toString())}var defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,supercede:!0,custom:{},current:function(){return null},source:"unknown"},transitionService_TransitionService=(TransitionService.prototype.onCreate=function(criteria,callback,options){},TransitionService.prototype.onBefore=function(criteria,callback,options){},TransitionService.prototype.onStart=function(criteria,callback,options){},TransitionService.prototype.onExit=function(criteria,callback,options){},TransitionService.prototype.onRetain=function(criteria,callback,options){},TransitionService.prototype.onEnter=function(criteria,callback,options){},TransitionService.prototype.onFinish=function(criteria,callback,options){},TransitionService.prototype.onSuccess=function(criteria,callback,options){},TransitionService.prototype.onError=function(criteria,callback,options){},TransitionService.prototype.dispose=function(router){Object(common.L)(this._registeredHooks).forEach(function(hooksArray){return hooksArray.forEach(function(hook){hook._deregistered=!0,Object(common.C)(hooksArray,hook)})})},TransitionService.prototype.create=function(fromPath,targetState){return new transition_Transition(fromPath,targetState,this._router)},TransitionService.prototype._defineCoreEvents=function(){var Phase=TransitionHookPhase,TH=transitionHook_TransitionHook,paths=this._criteriaPaths;this._defineEvent("onCreate",Phase.CREATE,0,paths.to,!1,TH.LOG_REJECTED_RESULT,TH.THROW_ERROR,!0),this._defineEvent("onBefore",Phase.BEFORE,0,paths.to),this._defineEvent("onStart",Phase.RUN,0,paths.to),this._defineEvent("onExit",Phase.RUN,100,paths.exiting,!0),this._defineEvent("onRetain",Phase.RUN,200,paths.retained),this._defineEvent("onEnter",Phase.RUN,300,paths.entering),this._defineEvent("onFinish",Phase.RUN,400,paths.to),this._defineEvent("onSuccess",Phase.SUCCESS,0,paths.to,!1,TH.LOG_REJECTED_RESULT,TH.LOG_ERROR,!0),this._defineEvent("onError",Phase.ERROR,0,paths.to,!1,TH.LOG_REJECTED_RESULT,TH.LOG_ERROR,!0)},TransitionService.prototype._defineCorePaths=function(){var STATE=TransitionHookScope.STATE,TRANSITION=TransitionHookScope.TRANSITION;this._definePathType("to",TRANSITION),this._definePathType("from",TRANSITION),this._definePathType("exiting",STATE),this._definePathType("retained",STATE),this._definePathType("entering",STATE)},TransitionService.prototype._defineEvent=function(name,hookPhase,hookOrder,criteriaMatchPath,reverseSort,getResultHandler,getErrorHandler,synchronous){void 0===reverseSort&&(reverseSort=!1),void 0===getResultHandler&&(getResultHandler=transitionHook_TransitionHook.HANDLE_RESULT),void 0===getErrorHandler&&(getErrorHandler=transitionHook_TransitionHook.REJECT_ERROR),void 0===synchronous&&(synchronous=!1);var eventType=new transitionEventType_TransitionEventType(name,hookPhase,hookOrder,criteriaMatchPath,reverseSort,getResultHandler,getErrorHandler,synchronous);this._eventTypes.push(eventType),makeEvent(this,this,eventType)},TransitionService.prototype._getEvents=function(phase){return(Object(predicates.c)(phase)?this._eventTypes.filter(function(type){return type.hookPhase===phase}):this._eventTypes.slice()).sort(function(l,r){var cmpByPhase=l.hookPhase-r.hookPhase;return 0==cmpByPhase?l.hookOrder-r.hookOrder:cmpByPhase})},TransitionService.prototype._definePathType=function(name,hookScope){this._criteriaPaths[name]={name:name,scope:hookScope}},TransitionService.prototype._getPathTypes=function(){return this._criteriaPaths},TransitionService.prototype.getHooks=function(hookName){return this._registeredHooks[hookName]},TransitionService.prototype._registerCoreTransitionHooks=function(){var fns=this._deregisterHookFns;fns.addCoreResolves=this.onCreate({},addCoreResolvables),fns.ignored=function(transitionService){return transitionService.onBefore({},ignoredHook,{priority:-9999})}(this),fns.invalid=function(transitionService){return transitionService.onBefore({},invalidTransitionHook,{priority:-1e4})}(this),fns.redirectTo=function(transitionService){return transitionService.onStart({to:function(state){return!!state.redirectTo}},redirectToHook)}(this),fns.onExit=function(transitionService){return transitionService.onExit({exiting:function(state){return!!state.onExit}},onExitHook)}(this),fns.onRetain=function(transitionService){return transitionService.onRetain({retained:function(state){return!!state.onRetain}},onRetainHook)}(this),fns.onEnter=function(transitionService){return transitionService.onEnter({entering:function(state){return!!state.onEnter}},onEnterHook)}(this),fns.eagerResolve=function(transitionService){return transitionService.onStart({},eagerResolvePath,{priority:1e3})}(this),fns.lazyResolve=function(transitionService){return transitionService.onEnter({entering:Object(hof.m)(!0)},lazyResolveState,{priority:1e3})}(this),fns.resolveAll=function(transitionService){return transitionService.onFinish({},resolveRemaining,{priority:1e3})}(this),fns.loadViews=function(transitionService){return transitionService.onFinish({},loadEnteringViews)}(this),fns.activateViews=function(transitionService){return transitionService.onSuccess({},activateViews)}(this),fns.updateGlobals=function(transitionService){return transitionService.onCreate({},updateGlobalState)}(this),fns.updateUrl=function(transitionService){return transitionService.onSuccess({},updateUrl,{priority:9999})}(this),fns.lazyLoad=function(transitionService){return transitionService.onBefore({entering:function(state){return!!state.lazyLoad}},lazyLoadHook)}(this)},TransitionService);function TransitionService(_router){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=_router,this.$view=_router.viewService,this._deregisterHookFns={},this._pluginapi=Object(common.h)(Object(hof.m)(this),{},Object(hof.m)(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),_router.globals.successfulTransitions.onEvict(treeChangesCleanup)}var stateService_StateService=(Object.defineProperty(StateService.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(StateService.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(StateService.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(StateService.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),StateService.prototype.dispose=function(){this.defaultErrorHandler(common.x),this.invalidCallbacks=[]},StateService.prototype._handleInvalidTargetState=function(fromPath,toState){function latestThing(){return globals.transitionHistory.peekTail()}var _this=this,fromState=pathUtils_PathUtils.makeTargetState(this.router.stateRegistry,fromPath),globals=this.router.globals,latest=latestThing(),callbackQueue=new queue_Queue(this.invalidCallbacks.slice()),injector=new resolveContext_ResolveContext(fromPath).injector(),checkForRedirect=function(result){if(result instanceof targetState_TargetState){var target=result;return(target=_this.target(target.identifier(),target.params(),target.options())).valid()?latestThing()!==latest?rejectFactory_Rejection.superseded().toPromise():_this.transitionTo(target.identifier(),target.params(),target.options()):rejectFactory_Rejection.invalid(target.error()).toPromise()}};return function invokeNextCallback(){var nextCallback=callbackQueue.dequeue();return void 0===nextCallback?rejectFactory_Rejection.invalid(toState.error()).toPromise():coreservices.b.$q.when(nextCallback(toState,fromState,injector)).then(checkForRedirect).then(function(result){return result||invokeNextCallback()})}()},StateService.prototype.onInvalid=function(callback){return this.invalidCallbacks.push(callback),function(){Object(common.C)(this.invalidCallbacks)(callback)}.bind(this)},StateService.prototype.reload=function(reloadState){return this.transitionTo(this.current,this.params,{reload:!Object(predicates.c)(reloadState)||reloadState,inherit:!1,notify:!1})},StateService.prototype.go=function(to,params,options){var defautGoOpts={relative:this.$current,inherit:!0},transOpts=Object(common.i)(options,defautGoOpts,defaultTransOpts);return this.transitionTo(to,params,transOpts)},StateService.prototype.target=function(identifier,params,options){if(void 0===options&&(options={}),Object(predicates.i)(options.reload)&&!options.reload.name)throw new Error("Invalid reload state object");var reg=this.router.stateRegistry;if(options.reloadState=!0===options.reload?reg.root():reg.matcher.find(options.reload,options.relative),options.reload&&!options.reloadState)throw new Error("No such reload state '"+(Object(predicates.l)(options.reload)?options.reload:options.reload.name)+"'");return new targetState_TargetState(this.router.stateRegistry,identifier,params,options)},StateService.prototype.getCurrentPath=function(){var _this=this,latestSuccess=this.router.globals.successfulTransitions.peekTail();return latestSuccess?latestSuccess.treeChanges().to:[new pathNode_PathNode(_this.router.stateRegistry.root())]},StateService.prototype.transitionTo=function(to,toParams,options){var _this=this;void 0===toParams&&(toParams={}),void 0===options&&(options={});var router=this.router,globals=router.globals;function getCurrent(){return globals.transition}options=Object(common.i)(options,defaultTransOpts),options=Object(common.l)(options,{current:getCurrent});var ref=this.target(to,toParams,options),currentPath=this.getCurrentPath();if(!ref.exists())return this._handleInvalidTargetState(currentPath,ref);if(!ref.valid())return Object(common.F)(ref.error());if(!1===options.supercede&&getCurrent())return rejectFactory_Rejection.ignored("Another transition is in progress and supercede has been set to false in TransitionOptions for the transition. So the transition was ignored in favour of the existing one in progress.").toPromise();var rejectedTransitionHandler=function(trans){return function(error){if(error instanceof rejectFactory_Rejection){var isLatest=router.globals.lastStartedTransitionId<=trans.$id;if(error.type===RejectType.IGNORED)return isLatest&&router.urlRouter.update(),coreservices.b.$q.when(globals.current);var detail=error.detail;if(error.type===RejectType.SUPERSEDED&&error.redirected&&detail instanceof targetState_TargetState){var redirect=trans.redirect(detail);return redirect.run().catch(rejectedTransitionHandler(redirect))}if(error.type===RejectType.ABORTED)return isLatest&&router.urlRouter.update(),coreservices.b.$q.reject(error)}return _this.defaultErrorHandler()(error),coreservices.b.$q.reject(error)}},transition=this.router.transitionService.create(currentPath,ref),transitionToPromise=transition.run().catch(rejectedTransitionHandler(transition));return Object(common.E)(transitionToPromise),Object(common.l)(transitionToPromise,{transition:transition})},StateService.prototype.is=function(stateOrName,params,options){options=Object(common.i)(options,{relative:this.$current});var state=this.router.stateRegistry.matcher.find(stateOrName,options.relative);if(Object(predicates.c)(state)){if(this.$current!==state)return!1;if(!params)return!0;var schema=state.parameters({inherit:!0,matchingKeys:params});return param_Param.equals(schema,param_Param.values(schema,params),this.params)}},StateService.prototype.includes=function(stateOrName,params,options){options=Object(common.i)(options,{relative:this.$current});var glob=Object(predicates.l)(stateOrName)&&Glob.fromString(stateOrName);if(glob){if(!glob.matches(this.$current.name))return!1;stateOrName=this.$current.name}var state=this.router.stateRegistry.matcher.find(stateOrName,options.relative),include=this.$current.includes;if(Object(predicates.c)(state)){if(!Object(predicates.c)(include[state.name]))return!1;if(!params)return!0;var schema=state.parameters({inherit:!0,matchingKeys:params});return param_Param.equals(schema,param_Param.values(schema,params),this.params)}},StateService.prototype.href=function(stateOrName,params,options){var defaultHrefOpts={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};options=Object(common.i)(options,defaultHrefOpts),params=params||{};var state=this.router.stateRegistry.matcher.find(stateOrName,options.relative);if(!Object(predicates.c)(state))return null;options.inherit&&(params=this.params.$inherit(params,this.$current,state));var nav=state&&options.lossy?state.navigable:state;return nav&&void 0!==nav.url&&null!==nav.url?this.router.urlRouter.href(nav.url,params,{absolute:options.absolute}):null},StateService.prototype.defaultErrorHandler=function(handler){return this._defaultErrorHandler=handler||this._defaultErrorHandler},StateService.prototype.get=function(stateOrName,base){var reg=this.router.stateRegistry;return 0===arguments.length?reg.get():reg.get(stateOrName,base||this.$current)},StateService.prototype.lazyLoad=function(stateOrName,transition){var state=this.get(stateOrName);if(!state||!state.lazyLoad)throw new Error("Can not lazy load "+stateOrName);var currentPath=this.getCurrentPath(),target=pathUtils_PathUtils.makeTargetState(this.router.stateRegistry,currentPath);return lazyLoadState(transition=transition||this.router.transitionService.create(currentPath,target),state)},StateService);function StateService(router){this.router=router,this.invalidCallbacks=[],this._defaultErrorHandler=function($error$){$error$ instanceof Error&&$error$.stack?(console.error($error$),console.error($error$.stack)):$error$ instanceof rejectFactory_Rejection?(console.error($error$.toString()),$error$.detail&&$error$.detail.stack&&console.error($error$.detail.stack)):console.error($error$)};var boundFns=Object.keys(StateService.prototype).filter(Object(hof.f)(Object(common.s)(["current","$current","params","transition"])));Object(common.h)(Object(hof.m)(StateService.prototype),this,Object(hof.m)(this),boundFns)}function keyValsToObjectR(accum,_a){var key=_a[0],val=_a[1];return accum.hasOwnProperty(key)?Object(predicates.a)(accum[key])?accum[key].push(val):accum[key]=[accum[key],val]:accum[key]=val,accum}function utils_parseUrl(url){function orEmptyString(x){return x||""}var _a=splitHash(url).map(orEmptyString),beforehash=_a[0],hash=_a[1],_b=splitQuery(beforehash).map(orEmptyString);return{path:_b[0],search:_b[1],hash:hash,url:url}}function locationPluginFactory(name,isHtml5,serviceClass,configurationClass){return function(uiRouter){var service=uiRouter.locationService=new serviceClass(uiRouter),configuration=uiRouter.locationConfig=new configurationClass(uiRouter,isHtml5);return{name:name,service:service,configuration:configuration,dispose:function(router){router.dispose(service),router.dispose(configuration)}}}}var baseLocationService_BaseLocationServices=(BaseLocationServices.prototype.url=function(url,replace){return void 0===replace&&(replace=!0),Object(predicates.c)(url)&&url!==this._get()&&(this._set(null,null,url,replace),this.fireAfterUpdate&&this._listeners.forEach(function(cb){return cb({url:url})})),path=(loc=this).path(),searchObject=loc.search(),hash=loc.hash(),search=Object.keys(searchObject).map(function(key){var param=searchObject[key];return(Object(predicates.a)(param)?param:[param]).map(function(val){return key+"="+val})}).reduce(common.K,[]).join("&"),path+(search?"?"+search:"")+(hash?"#"+hash:"");var loc,path,searchObject,hash,search},BaseLocationServices.prototype.onChange=function(cb){var _this=this;return this._listeners.push(cb),function(){return Object(common.C)(_this._listeners,cb)}},BaseLocationServices.prototype.dispose=function(router){Object(common.j)(this._listeners)},BaseLocationServices);function BaseLocationServices(router,fireAfterUpdate){var _this=this;this.fireAfterUpdate=fireAfterUpdate,this._listeners=[],this._listener=function(evt){return _this._listeners.forEach(function(cb){return cb(evt)})},this.hash=function(){return utils_parseUrl(_this._get()).hash},this.path=function(){return utils_parseUrl(_this._get()).path},this.search=function(){return utils_parseUrl(_this._get()).search.split("&").filter(common.r).map(splitEqual).reduce(keyValsToObjectR,{})},this._location=common.D.location,this._history=common.D.history}var extendStatics,_super,hashLocationService_HashLocationService=((extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)})(HashLocationService,_super=baseLocationService_BaseLocationServices),HashLocationService.prototype._get=function(){return(str=this._location.hash)?str.replace(/^#/,""):"";var str},HashLocationService.prototype._set=function(state,title,url,replace){this._location.hash=url},HashLocationService.prototype.dispose=function(router){_super.prototype.dispose.call(this,router),common.D.removeEventListener("hashchange",this._listener)},HashLocationService);function HashLocationService(router){var _this=_super.call(this,router,!1)||this;return common.D.addEventListener("hashchange",_this._listener,!1),_this}function memoryLocationConfig_MemoryLocationConfig(){var _this=this;this.dispose=common.x,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return _this._port},this.protocol=function(){return _this._protocol},this.host=function(){return _this._host},this.baseHref=function(){return _this._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(newval){return Object(predicates.c)(newval)?_this._hashPrefix=newval:_this._hashPrefix}}var memoryLocationService_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),MemoryLocationService=function(_super){function MemoryLocationService(router){return _super.call(this,router,!0)||this}return memoryLocationService_extends(MemoryLocationService,_super),MemoryLocationService.prototype._get=function(){return this._url},MemoryLocationService.prototype._set=function(state,title,url,replace){this._url=url},MemoryLocationService}(baseLocationService_BaseLocationServices),pushStateLocationService_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),pushStateLocationService_PushStateLocationService=function(_super){function PushStateLocationService(router){var _this=_super.call(this,router,!0)||this;return _this._config=router.urlService.config,common.D.addEventListener("popstate",_this._listener,!1),_this}return pushStateLocationService_extends(PushStateLocationService,_super),PushStateLocationService.prototype._getBasePrefix=function(){return stripLastPathElement(this._config.baseHref())},PushStateLocationService.prototype._get=function(){var _a=this._location,pathname=_a.pathname,hash=_a.hash,search=_a.search;search=splitQuery(search)[1],hash=splitHash(hash)[1];var basePrefix=this._getBasePrefix(),exactBaseHrefMatch=pathname===this._config.baseHref(),startsWithBase=pathname.substr(0,basePrefix.length)===basePrefix;return(pathname=exactBaseHrefMatch?"/":startsWithBase?pathname.substring(basePrefix.length):pathname)+(search?"?"+search:"")+(hash?"#"+hash:"")},PushStateLocationService.prototype._set=function(state,title,url,replace){var basePrefix=this._getBasePrefix(),slash=url&&"/"!==url[0]?"/":"",fullUrl=""===url||"/"===url?this._config.baseHref():basePrefix+slash+url;replace?this._history.replaceState(state,title,fullUrl):this._history.pushState(state,title,fullUrl)},PushStateLocationService.prototype.dispose=function(router){_super.prototype.dispose.call(this,router),common.D.removeEventListener("popstate",this._listener)},PushStateLocationService}(baseLocationService_BaseLocationServices),browserLocationConfig_BrowserLocationConfig=(BrowserLocationConfig.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},BrowserLocationConfig.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},BrowserLocationConfig.prototype.host=function(){return location.hostname},BrowserLocationConfig.prototype.html5Mode=function(){return this._isHtml5},BrowserLocationConfig.prototype.hashPrefix=function(newprefix){return Object(predicates.c)(newprefix)?this._hashPrefix=newprefix:this._hashPrefix},BrowserLocationConfig.prototype.baseHref=function(href){return Object(predicates.c)(href)&&(this._baseHref=href),Object(predicates.m)(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},BrowserLocationConfig.prototype.getBaseHref=function(){var baseTag=document.getElementsByTagName("base")[0];return baseTag&&baseTag.href?baseTag.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):!this._isHtml5&&location.pathname||"/"},BrowserLocationConfig.prototype.dispose=function(){},BrowserLocationConfig);function BrowserLocationConfig(router,_isHtml5){void 0===_isHtml5&&(_isHtml5=!1),this._isHtml5=_isHtml5,this._baseHref=void 0,this._hashPrefix=""}locationPluginFactory("vanilla.hashBangLocation",!1,hashLocationService_HashLocationService,browserLocationConfig_BrowserLocationConfig),locationPluginFactory("vanilla.pushStateLocation",!0,pushStateLocationService_PushStateLocationService,browserLocationConfig_BrowserLocationConfig),locationPluginFactory("vanilla.memoryLocation",!1,MemoryLocationService,memoryLocationConfig_MemoryLocationConfig),function(){function UIRouterPluginBase(){}UIRouterPluginBase.prototype.dispose=function(router){}}();var hasAnyKey=function(keys,obj){return keys.reduce(function(acc,key){return acc||Object(predicates.c)(obj[key])},!1)};function ng1ViewsBuilder(state){if(!state.parent)return{};var compKeys=["component","bindings","componentProvider"],nonCompKeys=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),allViewKeys=compKeys.concat(nonCompKeys);if(Object(predicates.c)(state.views)&&hasAnyKey(allViewKeys,state))throw new Error("State '"+state.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+allViewKeys.filter(function(key){return Object(predicates.c)(state[key])}).join(", "));var views={},viewsObject=state.views||{$default:Object(common.z)(state,allViewKeys)};return Object(common.p)(viewsObject,function(config,name){if(name=name||"$default",Object(predicates.l)(config)&&(config={component:config}),config=Object(common.l)({},config),hasAnyKey(compKeys,config)&&hasAnyKey(nonCompKeys,config))throw new Error("Cannot combine: "+compKeys.join("|")+" with: "+nonCompKeys.join("|")+" in stateview: '"+name+"@"+state.name+"'");config.resolveAs=config.resolveAs||"$resolve",config.$type="ng1",config.$context=state,config.$name=name;var normalized=view_ViewService.normalizeUIViewTarget(config.$context,config.$name);config.$uiViewName=normalized.uiViewName,config.$uiViewContextAnchor=normalized.uiViewContextAnchor,views[name]=config}),views}var views_id=0,views_Ng1ViewConfig=(Ng1ViewConfig.prototype.load=function(){var _this=this,$q=coreservices.b.$q,context=new resolveContext_ResolveContext(this.path),params=this.path.reduce(function(acc,node){return Object(common.l)(acc,node.paramValues)},{}),promises={template:$q.when(this.factory.fromConfig(this.viewDecl,params,context)),controller:$q.when(this.getController(context))};return $q.all(promises).then(function(results){return trace.traceViewServiceEvent("Loaded",_this),_this.controller=results.controller,Object(common.l)(_this,results.template),_this})},Ng1ViewConfig.prototype.getController=function(context){var provider=this.viewDecl.controllerProvider;if(!Object(predicates.e)(provider))return this.viewDecl.controller;var deps=coreservices.b.$injector.annotate(provider),providerFn=Object(predicates.a)(provider)?Object(common.G)(provider):provider;return new resolvable_Resolvable("",providerFn,deps).get(context)},Ng1ViewConfig);function Ng1ViewConfig(path,viewDecl,factory){var _this=this;this.path=path,this.viewDecl=viewDecl,this.factory=factory,this.$id=views_id++,this.loaded=!1,this.getTemplate=function(uiView,context){return _this.component?_this.factory.makeComponentTemplate(uiView,context,_this.component,_this.viewDecl.bindings):_this.template}}var templateFactory_TemplateFactory=(TemplateFactory.prototype.useHttpService=function(value){this._useHttp=value},TemplateFactory.prototype.fromConfig=function(config,params,context){function asTemplate(result){return coreservices.b.$q.when(result).then(function(str){return{template:str}})}function asComponent(result){return coreservices.b.$q.when(result).then(function(str){return{component:str}})}return Object(predicates.c)(config.template)?asTemplate(this.fromString(config.template,params)):Object(predicates.c)(config.templateUrl)?asTemplate(this.fromUrl(config.templateUrl,params)):Object(predicates.c)(config.templateProvider)?asTemplate(this.fromProvider(config.templateProvider,params,context)):Object(predicates.c)(config.component)?asComponent(config.component):Object(predicates.c)(config.componentProvider)?asComponent(this.fromComponentProvider(config.componentProvider,params,context)):asTemplate("<ui-view></ui-view>")},TemplateFactory.prototype.fromString=function(template,params){return Object(predicates.d)(template)?template(params):template},TemplateFactory.prototype.fromUrl=function(url,params){return Object(predicates.d)(url)&&(url=url(params)),null==url?null:this._useHttp?this.$http.get(url,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data}):this.$templateRequest(url)},TemplateFactory.prototype.fromProvider=function(provider,params,context){var deps=coreservices.b.$injector.annotate(provider),providerFn=Object(predicates.a)(provider)?Object(common.G)(provider):provider;return new resolvable_Resolvable("",providerFn,deps).get(context)},TemplateFactory.prototype.fromComponentProvider=function(provider,params,context){var deps=coreservices.b.$injector.annotate(provider),providerFn=Object(predicates.a)(provider)?Object(common.G)(provider):provider;return new resolvable_Resolvable("",providerFn,deps).get(context)},TemplateFactory.prototype.makeComponentTemplate=function(uiView,context,component,bindings){function kebob(camelCase){var kebobed=kebobString(camelCase);return/^(x|data)-/.exec(kebobed)?"x-"+kebobed:kebobed}bindings=bindings||{};var prefix=3<=ng.version.minor?"::":"",attrs=function(name){var cmpDefs=coreservices.b.$injector.get(name+"Directive");if(!cmpDefs||!cmpDefs.length)throw new Error("Unable to find component named '"+name+"'");return cmpDefs.map(getBindings).reduce(common.K,[])}(component).map(function(input){var name=input.name,type=input.type,attrName=kebob(name);if(uiView.attr(attrName)&&!bindings[name])return attrName+"='"+uiView.attr(attrName)+"'";var resolveName=bindings[name]||name;if("@"===type)return attrName+"='{{"+prefix+"$resolve."+resolveName+"}}'";if("&"!==type)return attrName+"='"+prefix+"$resolve."+resolveName+"'";var res=context.getResolvable(resolveName),fn=res&&res.data,args=fn&&coreservices.b.$injector.annotate(fn)||[];return attrName+"='$resolve."+resolveName+(Object(predicates.a)(fn)?"["+(fn.length-1)+"]":"")+"("+args.join(",")+")'"}).join(" "),kebobName=kebob(component);return"<"+kebobName+" "+attrs+"></"+kebobName+">"},TemplateFactory);function TemplateFactory(){var _this=this;this._useHttp=ng.version.minor<3,this.$get=["$http","$templateCache","$injector",function($http,$templateCache,$injector){return _this.$templateRequest=$injector.has&&$injector.has("$templateRequest")&&$injector.get("$templateRequest"),_this.$http=$http,_this.$templateCache=$templateCache,_this}]}var getBindings=function(def){return Object(predicates.i)(def.bindToController)?scopeBindings(def.bindToController):scopeBindings(def.scope)},scopeBindings=function(bindingsObj){return Object.keys(bindingsObj||{}).map(function(key){return[key,/^([=<@&])[?]?(.*)/.exec(bindingsObj[key])]}).filter(function(tuple){return Object(predicates.c)(tuple)&&Object(predicates.a)(tuple[1])}).map(function(tuple){return{name:tuple[1][2]||tuple[0],type:tuple[1][1]}})},stateProvider_StateProvider=(StateProvider.prototype.decorator=function(name,func){return this.stateRegistry.decorator(name,func)||this},StateProvider.prototype.state=function(name,definition){return Object(predicates.i)(name)?definition=name:definition.name=name,this.stateRegistry.register(definition),this},StateProvider.prototype.onInvalid=function(callback){return this.stateService.onInvalid(callback)},StateProvider);function StateProvider(stateRegistry,stateService){this.stateRegistry=stateRegistry,this.stateService=stateService,Object(common.h)(Object(hof.m)(StateProvider.prototype),this,Object(hof.m)(this))}function getStateHookBuilder(hookName){return function(stateObject){var hook=stateObject[hookName],pathname="onExit"===hookName?"from":"to";return hook?function(trans,state){var subContext=new resolveContext_ResolveContext(trans.treeChanges(pathname)).subContext(state.$$state()),locals=Object(common.l)(getLocals(subContext),{$state$:state,$transition$:trans});return coreservices.b.$injector.invoke(hook,this,locals)}:void 0}}var locationServices_Ng1LocationServices=(Ng1LocationServices.monkeyPatchPathParameterType=function(router){var pathType=router.urlMatcherFactory.type("path");pathType.encode=function(x){return null!=x?x.toString().replace(/(~|\/)/g,function(m){return{"~":"~~","/":"~2F"}[m]}):x},pathType.decode=function(x){return null!=x?x.toString().replace(/(~~|~2F)/g,function(m){return{"~~":"~","~2F":"/"}[m]}):x}},Ng1LocationServices.prototype.dispose=function(){},Ng1LocationServices.prototype.onChange=function(callback){var _this=this;return this._urlListeners.push(callback),function(){return Object(common.C)(_this._urlListeners)(callback)}},Ng1LocationServices.prototype.html5Mode=function(){var html5Mode=this.$locationProvider.html5Mode();return(html5Mode=Object(predicates.i)(html5Mode)?html5Mode.enabled:html5Mode)&&this.$sniffer.history},Ng1LocationServices.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},Ng1LocationServices.prototype.url=function(newUrl,replace,state){return void 0===replace&&(replace=!1),Object(predicates.c)(newUrl)&&this.$location.url(newUrl),replace&&this.$location.replace(),state&&this.$location.state(state),this.$location.url()},Ng1LocationServices.prototype._runtimeServices=function($rootScope,$location,$sniffer,$browser,$window){var _this=this;this.$location=$location,this.$sniffer=$sniffer,this.$browser=$browser,this.$window=$window,$rootScope.$on("$locationChangeSuccess",function(evt){return _this._urlListeners.forEach(function(fn){return fn(evt)})});var _loc=Object(hof.m)($location);Object(common.h)(_loc,this,_loc,["replace","path","search","hash"]),Object(common.h)(_loc,this,_loc,["port","protocol","host"])},Ng1LocationServices);function Ng1LocationServices($locationProvider){this._urlListeners=[],this.$locationProvider=$locationProvider;var _lp=Object(hof.m)($locationProvider);Object(common.h)(_lp,this,_lp,["hashPrefix"])}var urlRouterProvider_UrlRouterProvider=(UrlRouterProvider.injectableHandler=function(router,handler){return function(match){return coreservices.b.$injector.invoke(handler,null,{$match:match,$stateParams:router.globals.params})}},UrlRouterProvider.prototype.$get=function(){var urlService=this.router.urlService;return this.router.urlRouter.update(!0),urlService.interceptDeferred||urlService.listen(),this.router.urlRouter},UrlRouterProvider.prototype.rule=function(ruleFn){var _this=this;if(!Object(predicates.d)(ruleFn))throw new Error("'rule' must be a function");var rule=new urlRule_BaseUrlRule(function(){return ruleFn(coreservices.b.$injector,_this.router.locationService)},common.r);return this.router.urlService.rules.rule(rule),this},UrlRouterProvider.prototype.otherwise=function(rule){var _this=this,urlRules=this.router.urlService.rules;if(Object(predicates.l)(rule))urlRules.otherwise(rule);else{if(!Object(predicates.d)(rule))throw new Error("'rule' must be a string or function");urlRules.otherwise(function(){return rule(coreservices.b.$injector,_this.router.locationService)})}return this},UrlRouterProvider.prototype.when=function(what,handler){return(Object(predicates.a)(handler)||Object(predicates.d)(handler))&&(handler=UrlRouterProvider.injectableHandler(this.router,handler)),this.router.urlService.rules.when(what,handler),this},UrlRouterProvider.prototype.deferIntercept=function(defer){this.router.urlService.deferIntercept(defer)},UrlRouterProvider);function UrlRouterProvider(router){this.router=router}ng.module("ui.router.angular1",[]);var mod_init=ng.module("ui.router.init",["ng"]),mod_util=ng.module("ui.router.util",["ui.router.init"]),mod_rtr=ng.module("ui.router.router",["ui.router.util"]),mod_state=ng.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),mod_main=ng.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),services_router=(ng.module("ui.router.compat",["ui.router"]),null);function $uiRouterProvider($locationProvider){var templateFactory;(services_router=this.router=new router_UIRouter).stateProvider=new stateProvider_StateProvider(services_router.stateRegistry,services_router.stateService),services_router.stateRegistry.decorator("views",ng1ViewsBuilder),services_router.stateRegistry.decorator("onExit",getStateHookBuilder("onExit")),services_router.stateRegistry.decorator("onRetain",getStateHookBuilder("onRetain")),services_router.stateRegistry.decorator("onEnter",getStateHookBuilder("onEnter")),services_router.viewService._pluginapi._viewConfigFactory("ng1",(templateFactory=null,function(path,view){return templateFactory=templateFactory||coreservices.b.$injector.get("$templateFactory"),[new views_Ng1ViewConfig(path,view,templateFactory)]}));var ng1LocationService=services_router.locationService=services_router.locationConfig=new locationServices_Ng1LocationServices($locationProvider);function $get($location,$browser,$window,$sniffer,$rootScope,$http,$templateCache){return ng1LocationService._runtimeServices($rootScope,$location,$sniffer,$browser,$window),delete services_router.router,delete services_router.$get,services_router}return locationServices_Ng1LocationServices.monkeyPatchPathParameterType(services_router),((services_router.router=services_router).$get=$get).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],services_router}$uiRouterProvider.$inject=["$locationProvider"];function getProviderFor(serviceName){return["$uiRouterProvider",function($urp){var service=$urp.router[serviceName];return service.$get=function(){return service},service}]}function runBlock($injector,$q,$uiRouter){if(coreservices.b.$injector=$injector,coreservices.b.$q=$q,!$injector.hasOwnProperty("strictDi"))try{$injector.invoke(function(checkStrictDi){})}catch(error){$injector.strictDi=!!/strict mode/.exec(error&&error.toString())}$uiRouter.stateRegistry.get().map(function(x){return x.$$state().resolvables}).reduce(common.K,[]).filter(function(x){return"deferred"===x.deps}).forEach(function(resolvable){return resolvable.deps=$injector.annotate(resolvable.resolveFn,$injector.strictDi)})}runBlock.$inject=["$injector","$q","$uiRouter"];function watchDigests($rootScope){$rootScope.$watch(function(){trace.approximateDigests++})}watchDigests.$inject=["$rootScope"],mod_init.provider("$uiRouter",$uiRouterProvider),mod_rtr.provider("$urlRouter",["$uiRouterProvider",function(uiRouter){return uiRouter.urlRouterProvider=new urlRouterProvider_UrlRouterProvider(uiRouter)}]),mod_util.provider("$urlService",getProviderFor("urlService")),mod_util.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return services_router.urlMatcherFactory}]),mod_util.provider("$templateFactory",function(){return new templateFactory_TemplateFactory}),mod_state.provider("$stateRegistry",getProviderFor("stateRegistry")),mod_state.provider("$uiRouterGlobals",getProviderFor("globals")),mod_state.provider("$transitions",getProviderFor("transitionService")),mod_state.provider("$state",["$uiRouterProvider",function(){return Object(common.l)(services_router.stateProvider,{$get:function(){return services_router.stateService}})}]),mod_state.factory("$stateParams",["$uiRouter",function($uiRouter){return $uiRouter.globals.params}]),mod_main.factory("$view",function(){return services_router.viewService}),mod_main.service("$trace",function(){return trace}),mod_main.run(watchDigests),mod_util.run(["$urlMatcherFactory",function($urlMatcherFactory){}]),mod_state.run(["$state",function($state){}]),mod_rtr.run(["$urlRouter",function($urlRouter){}]),mod_init.run(runBlock);var uiSrefDirective,uiStateDirective,uiSrefActiveDirective,viewDirective_uiView,getLocals=function(ctx){return ctx.getTokens().filter(predicates.l).map(function(key){var resolvable=ctx.getResolvable(key);return[key,"NOWAIT"===ctx.getPolicy(resolvable).async?resolvable.promise:resolvable.data]}).reduce(common.d,{})};__webpack_require__(24);function parseStateRef(ref){var parsed,paramsOnly=ref.match(/^\s*({[^}]*})\s*$/);if(paramsOnly&&(ref="("+paramsOnly[1]+")"),!(parsed=ref.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1]||null,paramExpr:parsed[3]||null}}function stateDirectives_stateContext(el){var $uiView=el.parent().inheritedData("$uiView"),path=Object(hof.h)("$cfg.path")($uiView);return path?Object(common.G)(path).state.name:void 0}function processedDef($state,$element,def){var uiState=def.uiState||$state.current.name,uiStateOpts=Object(common.l)(function(el,$state){return{relative:stateDirectives_stateContext(el)||$state.$current,inherit:!0,source:"sref"}}($element,$state),def.uiStateOpts||{}),href=$state.href(uiState,def.uiStateParams,uiStateOpts);return{uiState:uiState,uiStateParams:def.uiStateParams,uiStateOpts:uiStateOpts,href:href}}function getTypeInfo(el){var isSvg="[object SVGAnimatedString]"===Object.prototype.toString.call(el.prop("href")),isForm="FORM"===el[0].nodeName;return{attr:isForm?"action":isSvg?"xlink:href":"href",isAnchor:"A"===el.prop("tagName").toUpperCase(),clickable:!isForm}}function clickHook(el,$state,$timeout,type,getDef){return function(e){var button=e.which||e.button,target=getDef();if(!(1<button||e.ctrlKey||e.metaKey||e.shiftKey||el.attr("target"))){var transition_1=$timeout(function(){el.attr("disabled")||$state.go(target.uiState,target.uiStateParams,target.uiStateOpts)});e.preventDefault();var ignorePreventDefaultCount_1=type.isAnchor&&!target.href?1:0;e.preventDefault=function(){ignorePreventDefaultCount_1--<=0&&$timeout.cancel(transition_1)}}}}function bindEvents(element,scope,hookFn,uiStateOpts){var events;uiStateOpts&&(events=uiStateOpts.events),Object(predicates.a)(events)||(events=["click"]);for(var on=element.on?"on":"bind",_i=0,events_1=events;_i<events_1.length;_i++){var event_1=events_1[_i];element[on](event_1,hookFn)}scope.$on("$destroy",function(){for(var off=element.off?"off":"unbind",_i=0,events_2=events;_i<events_2.length;_i++){var event_2=events_2[_i];element[off](event_2,hookFn)}})}function $IsStateFilter($state){function isFilter(state,params,options){return $state.is(state,params,options)}return isFilter.$stateful=!0,isFilter}function $IncludedByStateFilter($state){function includesFilter(state,params,options){return $state.includes(state,params,options)}return includesFilter.$stateful=!0,includesFilter}function $ViewDirectiveFill($compile,$controller,$transitions,$view,$q,$timeout){var getControllerAs=Object(hof.h)("viewDecl.controllerAs"),getResolveAs=Object(hof.h)("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return tElement.empty(),function(scope,$element){var data=$element.data("$uiView");if(!data)return $element.html(initial),void $compile($element.contents())(scope);var cfg=data.$cfg||{viewDecl:{},getTemplate:common.x},resolveCtx=cfg.path&&new resolveContext_ResolveContext(cfg.path);$element.html(cfg.getTemplate($element,resolveCtx)||initial),trace.traceUIViewFill(data.$uiView,$element.html());var link=$compile($element.contents()),controller=cfg.controller,controllerAs=getControllerAs(cfg),resolveAs=getResolveAs(cfg),locals=resolveCtx&&getLocals(resolveCtx);if(scope[resolveAs]=locals,controller){var controllerInstance=$controller(controller,Object(common.l)({},locals,{$scope:scope,$element:$element}));controllerAs&&(scope[controllerAs]=controllerInstance,scope[controllerAs][resolveAs]=locals),$element.data("$ngControllerController",controllerInstance),$element.children().data("$ngControllerController",controllerInstance),registerControllerCallbacks($q,$transitions,controllerInstance,scope,cfg)}if(Object(predicates.l)(cfg.component))var kebobName=kebobString(cfg.component),tagRegexp_1=new RegExp("^(x-|data-)?"+kebobName+"$","i"),deregisterWatch_1=scope.$watch(function(){var directiveEl=[].slice.call($element[0].children).filter(function(el){return el&&el.tagName&&tagRegexp_1.exec(el.tagName)});return directiveEl&&ng.element(directiveEl).data("$"+cfg.component+"Controller")},function(ctrlInstance){ctrlInstance&&(registerControllerCallbacks($q,$transitions,ctrlInstance,scope,cfg),deregisterWatch_1())});link(scope)}}}}uiSrefDirective=["$uiRouter","$timeout",function($uiRouter,$timeout){var $state=$uiRouter.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){function getDef(){return processedDef($state,element,rawDef)}var hookFn,type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],unlinkInfoFn=null,rawDef={},ref=parseStateRef(attrs.uiSref);function update(){var def=getDef();unlinkInfoFn&&unlinkInfoFn(),active&&(unlinkInfoFn=active.$$addStateInfo(def.uiState,def.uiStateParams)),null!=def.href&&attrs.$set(type.attr,def.href)}rawDef.uiState=ref.state,rawDef.uiStateOpts=attrs.uiSrefOpts?scope.$eval(attrs.uiSrefOpts):{},ref.paramExpr&&(scope.$watch(ref.paramExpr,function(val){rawDef.uiStateParams=Object(common.l)({},val),update()},!0),rawDef.uiStateParams=Object(common.l)({},scope.$eval(ref.paramExpr))),update(),scope.$on("$destroy",$uiRouter.stateRegistry.onStatesChanged(update)),scope.$on("$destroy",$uiRouter.transitionService.onSuccess({},update)),type.clickable&&(hookFn=clickHook(element,$state,$timeout,type,getDef),bindEvents(element,scope,hookFn,rawDef.uiStateOpts))}}}],uiStateDirective=["$uiRouter","$timeout",function($uiRouter,$timeout){var $state=$uiRouter.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){function getDef(){return processedDef($state,element,rawDef)}var hookFn,type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],unlinkInfoFn=null,rawDef={},inputAttrs=["uiState","uiStateParams","uiStateOpts"],watchDeregFns=inputAttrs.reduce(function(acc,attr){return acc[attr]=common.x,acc},{});function update(){var def=getDef();unlinkInfoFn&&unlinkInfoFn(),active&&(unlinkInfoFn=active.$$addStateInfo(def.uiState,def.uiStateParams)),null!=def.href&&attrs.$set(type.attr,def.href)}inputAttrs.forEach(function(field){rawDef[field]=attrs[field]?scope.$eval(attrs[field]):null,attrs.$observe(field,function(expr){watchDeregFns[field](),watchDeregFns[field]=scope.$watch(expr,function(newval){rawDef[field]=newval,update()},!0)})}),update(),scope.$on("$destroy",$uiRouter.stateRegistry.onStatesChanged(update)),scope.$on("$destroy",$uiRouter.transitionService.onSuccess({},update)),type.clickable&&(hookFn=clickHook(element,$state,$timeout,type,getDef),bindEvents(element,scope,hookFn,rawDef.uiStateOpts))}}}],uiSrefActiveDirective=["$state","$stateParams","$interpolate","$uiRouter",function($state,$stateParams,$interpolate,$uiRouter){return{restrict:"A",controller:["$scope","$element","$attrs",function($scope,$element,$attrs){var activeEqClass,uiSrefActive,deregisterStatesChangedListener,deregisterOnStartListener,deregisterStateChangeSuccessListener,states=[];activeEqClass=$interpolate($attrs.uiSrefActiveEq||"",!1)($scope);try{uiSrefActive=$scope.$eval($attrs.uiSrefActive)}catch(e){}function updateAfterTransition(trans){trans.promise.then(update,common.x)}function handleStatesChanged(){setStatesFromDefinitionObject(uiSrefActive)}function setStatesFromDefinitionObject(statesDefinition){Object(predicates.i)(statesDefinition)&&(states=[],Object(common.p)(statesDefinition,function(stateOrName,activeClass){function addStateForClass(stateOrName,activeClass){var ref=parseStateRef(stateOrName);addState(ref.state,$scope.$eval(ref.paramExpr),activeClass)}Object(predicates.l)(stateOrName)?addStateForClass(stateOrName,activeClass):Object(predicates.a)(stateOrName)&&Object(common.p)(stateOrName,function(stateOrName){addStateForClass(stateOrName,activeClass)})}))}function addState(stateName,stateParams,activeClass){var stateInfo={state:$state.get(stateName,stateDirectives_stateContext($element))||{name:stateName},params:stateParams,activeClass:activeClass};return states.push(stateInfo),function(){Object(common.C)(states)(stateInfo)}}function update(){function splitClasses(str){return str.split(/\s/).filter(common.r)}function getClasses(stateList){return stateList.map(function(x){return x.activeClass}).map(splitClasses).reduce(common.K,[])}var allClasses=getClasses(states).concat(splitClasses(activeEqClass)).reduce(common.I,[]),fuzzyClasses=getClasses(states.filter(function(x){return $state.includes(x.state.name,x.params)})),exactClasses=!!states.filter(function(x){return $state.is(x.state.name,x.params)}).length?splitClasses(activeEqClass):[],addClasses=fuzzyClasses.concat(exactClasses).reduce(common.I,[]),removeClasses=allClasses.filter(function(cls){return!Object(common.s)(addClasses,cls)});$scope.$evalAsync(function(){addClasses.forEach(function(className){return $element.addClass(className)}),removeClasses.forEach(function(className){return $element.removeClass(className)})})}setStatesFromDefinitionObject(uiSrefActive=uiSrefActive||$interpolate($attrs.uiSrefActive||"",!1)($scope)),this.$$addStateInfo=function(newState,newParams){if(!(Object(predicates.i)(uiSrefActive)&&0<states.length)){var deregister=addState(newState,newParams,uiSrefActive);return update(),deregister}},$scope.$on("$destroy",(deregisterStatesChangedListener=$uiRouter.stateRegistry.onStatesChanged(handleStatesChanged),deregisterOnStartListener=$uiRouter.transitionService.onStart({},updateAfterTransition),deregisterStateChangeSuccessListener=$scope.$on("$stateChangeSuccess",update),function(){deregisterStatesChangedListener(),deregisterOnStartListener(),deregisterStateChangeSuccessListener()})),$uiRouter.globals.transition&&updateAfterTransition($uiRouter.globals.transition),update()}]}}],ng.module("ui.router.state").directive("uiSref",uiSrefDirective).directive("uiSrefActive",uiSrefActiveDirective).directive("uiSrefActiveEq",uiSrefActiveDirective).directive("uiState",uiStateDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],ng.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter),viewDirective_uiView=["$view","$animate","$uiViewScroll","$interpolate","$q",function($view,$animate,$uiViewScroll,$interpolate,$q){var rootData={$cfg:{viewDecl:{$context:$view._pluginapi._rootViewContext()}},$uiView:{}},directive={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){var previousEl,currentEl,currentScope,viewConfig,unregister,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer={enter:function(element,target,cb){2<ng.version.minor?$animate.enter(element,null,target).then(cb):$animate.enter(element,null,target,cb)},leave:function(element,cb){2<ng.version.minor?$animate.leave(element).then(cb):$animate.leave(element,cb)}},inherited=$element.inheritedData("$uiView")||rootData,name=$interpolate(attrs.uiView||attrs.name||"")(scope)||"$default",activeUIView={$type:"ng1",id:directive.count++,name:name,fqn:inherited.$uiView.fqn?inherited.$uiView.fqn+"."+name:name,config:null,configUpdated:function(config){if(config&&!(config instanceof views_Ng1ViewConfig))return;if(function(config1,config2){return config1===config2}(viewConfig,config))return;trace.traceUIViewConfigUpdated(activeUIView,config&&config.viewDecl&&config.viewDecl.$context),updateView(viewConfig=config)},get creationContext(){var fromParentTagConfig=Object(hof.h)("$cfg.viewDecl.$context")(inherited),fromParentTag=Object(hof.h)("$uiView.creationContext")(inherited);return fromParentTagConfig||fromParentTag}};function updateView(config){var newScope=scope.$new(),animEnter=$q.defer(),animLeave=$q.defer(),$uiViewData={$cfg:config,$uiView:activeUIView},$uiViewAnim={$animEnter:animEnter.promise,$animLeave:animLeave.promise,$$animLeave:animLeave};newScope.$emit("$viewContentLoading",name),currentEl=$transclude(newScope,function(clone){clone.data("$uiViewAnim",$uiViewAnim),clone.data("$uiView",$uiViewData),renderer.enter(clone,$element,function(){animEnter.resolve(),currentScope&&currentScope.$emit("$viewContentAnimationEnded"),(Object(predicates.c)(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp))&&$uiViewScroll(clone)}),function(){if(previousEl&&(trace.traceUIViewEvent("Removing (previous) el",previousEl.data("$uiView")),previousEl.remove(),previousEl=null),currentScope&&(trace.traceUIViewEvent("Destroying scope",activeUIView),currentScope.$destroy(),currentScope=null),currentEl){var _viewData_1=currentEl.data("$uiViewAnim");trace.traceUIViewEvent("Animate out",_viewData_1),renderer.leave(currentEl,function(){_viewData_1.$$animLeave.resolve(),previousEl=null}),previousEl=currentEl,currentEl=null}}()}),(currentScope=newScope).$emit("$viewContentLoaded",config||viewConfig),currentScope.$eval(onloadExp)}trace.traceUIViewEvent("Linking",activeUIView),$element.data("$uiView",{$uiView:activeUIView}),updateView(),unregister=$view.registerUIView(activeUIView),scope.$on("$destroy",function(){trace.traceUIViewEvent("Destroying/Unregistering",activeUIView),unregister()})}}};return directive}],$ViewDirectiveFill.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var hasComponentImpl="function"==typeof ng.module("ui.router").component,_uiCanExitId=0;function registerControllerCallbacks($q,$transitions,controllerInstance,$scope,cfg){!Object(predicates.d)(controllerInstance.$onInit)||(cfg.viewDecl.component||cfg.viewDecl.componentProvider)&&hasComponentImpl||controllerInstance.$onInit();var viewState=Object(common.G)(cfg.path).state.self,hookOptions={bind:controllerInstance};if(Object(predicates.d)(controllerInstance.uiOnParamsChanged)){var viewCreationTrans_1=new resolveContext_ResolveContext(cfg.path).getResolvable("$transition$").data;$scope.$on("$destroy",$transitions.onSuccess({},function($transition$){if($transition$!==viewCreationTrans_1&&-1===$transition$.exiting().indexOf(viewState)){var toParams=$transition$.params("to"),fromParams=$transition$.params("from"),getNodeSchema=function(node){return node.paramSchema},toSchema=$transition$.treeChanges("to").map(getNodeSchema).reduce(common.K,[]),fromSchema=$transition$.treeChanges("from").map(getNodeSchema).reduce(common.K,[]),changedToParams=toSchema.filter(function(param){var idx=fromSchema.indexOf(param);return-1===idx||!fromSchema[idx].type.equals(toParams[param.id],fromParams[param.id])});if(changedToParams.length){var changedKeys_1=changedToParams.map(function(x){return x.id}),newValues=Object(common.m)(toParams,function(val,key){return-1!==changedKeys_1.indexOf(key)});controllerInstance.uiOnParamsChanged(newValues,$transition$)}}},hookOptions))}if(Object(predicates.d)(controllerInstance.uiCanExit)){var id_1=_uiCanExitId++,prevTruthyAnswer_1=function(trans){return!!trans&&(trans._uiCanExitIds&&!0===trans._uiCanExitIds[id_1]||prevTruthyAnswer_1(trans.redirectedFrom()))},criteria={exiting:viewState.name};$scope.$on("$destroy",$transitions.onBefore(criteria,function(trans){var promise,ids=trans._uiCanExitIds=trans._uiCanExitIds||{};return prevTruthyAnswer_1(trans)||(promise=$q.when(controllerInstance.uiCanExit(trans))).then(function(val){return ids[id_1]=!1!==val}),promise},hookOptions))}}ng.module("ui.router.state").directive("uiView",viewDirective_uiView),ng.module("ui.router.state").directive("uiView",$ViewDirectiveFill),ng.module("ui.router.state").provider("$uiViewScroll",function(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){return $timeout(function(){$element[0].scrollIntoView()},0,!1)}}]});__webpack_exports__.a="ui.router"},,,,function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports){}]]);